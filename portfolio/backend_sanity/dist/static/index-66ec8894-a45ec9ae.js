import{_ as La,O as Sc,S as Pc,b as Cc,c as m,e as wc,E as Ec,o as Tc,f as _c,g as I,h as X,w as Ic,i as he,j as sn,k as xe,l as ja,R as Ee,m as p,F as q,D as Mc,s as $,n as W,p as Rc,P as xn,q as At,t as Ht,u as ur,v as Sn,x as Z,y as Dc,z as A,A as Ac,B as Oc,C as ka,G as Fa,H as Pn,I as Vc,J as Lc,K as Ot,L as Ve,M as dr,N as jc,Q as kc,T as Fc,U as Nc,V as Bc,W as wt,X as Na,Y as Ba,Z as Uc,$ as Fr,a0 as Nr,a1 as Je,a2 as zc,a3 as Wc,a4 as jo,a5 as Hc,a6 as Gc,a7 as Kc,a8 as Le,a9 as Ua,aa as k,ab as N,ac as Ce,ad as Br,ae as Ur,af as za,ag as Yc,ah as pt,ai as Te,aj as $c,ak as Vt,al as zr,am as le,an as Wa,ao as Et,ap as qc,aq as Cn,ar as Xc,as as Ha,at as Zc,au as Jc,av as Qc,aw as eu,ax as je,ay as Lt,az as tu,aA as wn,aB as nu,aC as Ga,aD as ru,aE as ou,aF as iu,aG as Ka,aH as au,aI as Wr,aJ as ko,aK as su,aL as Hr,aM as jt,aN as lu,aO as cu,aP as fr,aQ as Ya,aR as uu,aS as du,aT as fu,aU as pu,aV as hu,aW as mu,aX as vu,aY as gu,aZ as yu,a_ as Ge,a$ as Ke,b0 as ut,b1 as $a,b2 as En,b3 as bu,b4 as Gr,b5 as xu,b6 as Su,b7 as Pu,b8 as Cu,b9 as wu,ba as qa,bb as Xa,bc as Eu,bd as Tu,be as _u,bf as Be,bg as Za,bh as Iu,bi as Ja,bj as pr,bk as Mu,bl as Ru,bm as Du,bn as Qa,bo as Au,bp as Ou,bq as Vu,br as es,bs as Lu,bt as ju,bu as ts,bv as Kr,bw as ku,bx as Yn,by as Fu,bz as Nu,bA as Bu,bB as Fo,bC as Uu,bD as zu,bE as ns,bF as $n,bG as Wu,bH as No,bI as hr,bJ as rs,bK as Hu,bL as Gu,bM as Ku,bN as Yu,bO as $u,bP as qu,bQ as os,bR as Xu,bS as Yr,bT as Zu,bU as Ju,bV as Qu,bW as ed,bX as td,bY as nd,bZ as rd,b_ as od,b$ as id,c0 as mr,c1 as ad,c2 as sd,c3 as ld,c4 as cd,c5 as ud,c6 as vr,c7 as dd,c8 as fd,c9 as Bo,ca as pd,cb as hd,cc as is,cd as as,ce as md,cf as vd,cg as gd,ch as yd,ci as bd,cj as qn,ck as Uo,cl as xd,cm as zo,cn as Sd}from"./desk-eb7b3548-2de61ce2.js";var Pd=function(e){La(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return r&&!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Sc;return this._value},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Pc);function Cd(e,t){return function(n){return n.lift(new wd(e,t))}}var wd=function(){function e(t,n){this.compare=t,this.keySelector=n}return e.prototype.call=function(t,n){return n.subscribe(new Ed(t,this.compare,this.keySelector))},e}(),Ed=function(e){La(t,e);function t(n,r,o){var a=e.call(this,n)||this;return a.keySelector=o,a.hasKey=!1,typeof r=="function"&&(a.compare=r),a}return t.prototype.compare=function(n,r){return n===r},t.prototype._next=function(n){var r;try{var o=this.keySelector;r=o?o(n):n}catch(s){return this.destination.error(s)}var a=!1;if(this.hasKey)try{var i=this.compare;a=i(this.key,r)}catch(s){return this.destination.error(s)}else this.hasKey=!0;a||(this.key=r,this.destination.next(n))},t}(Cc);function Td(e,t){var n=m.useCallback(function(){var i=new Pd(e),s=i.asObservable().pipe(Cd());return[t?s.pipe(t):s,i]},[]),r=m.useRef();r.current||(r.current=n());var o=r.current[0];m.useEffect(function(){if(r.current){var i=r.current,s=i[1];s.next(e)}},[e,r]);var a=m.useRef(!1);return m.useEffect(function(){return a.current&&(r.current||(r.current=n()),a.current=!1),function(){if(r.current){a.current=!0;var i=r.current,s=i[1];s.complete(),r.current=void 0}}},[]),o}function ss(e,t){var n=typeof t=="object";return new Promise(function(r,o){var a=new wc({next:function(i){r(i),a.unsubscribe()},error:o,complete:function(){n?r(t.defaultValue):o(new Ec)}});e.subscribe(a)})}function _d(){return Tc(function(e,t){var n,r=!1;e.subscribe(_c(t,function(o){var a=n;n=o,r&&t.next([a,o]),r=!0}))})}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Wo=Object.getOwnPropertySymbols,Id=Object.prototype.hasOwnProperty,Md=Object.prototype.propertyIsEnumerable;function Rd(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Dd(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(a){o[a]=a}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Ad=Dd()?Object.assign:function(e,t){for(var n,r=Rd(e),o,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var i in n)Id.call(n,i)&&(r[i]=n[i]);if(Wo){o=Wo(n);for(var s=0;s<o.length;s++)Md.call(n,o[s])&&(r[o[s]]=n[o[s]])}}return r},Gt=Ad,Od={};function ve(e,t,n,r,o,a,i,s){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,i,s],u=0;l=new Error(t.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var Ho="mixins";function Vd(e,t,n){var r=[],o={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},a={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},i={displayName:function(b,y){b.displayName=y},mixins:function(b,y){if(y)for(var C=0;C<y.length;C++)l(b,y[C])},childContextTypes:function(b,y){b.childContextTypes=Gt({},b.childContextTypes,y)},contextTypes:function(b,y){b.contextTypes=Gt({},b.contextTypes,y)},getDefaultProps:function(b,y){b.getDefaultProps?b.getDefaultProps=f(b.getDefaultProps,y):b.getDefaultProps=y},propTypes:function(b,y){b.propTypes=Gt({},b.propTypes,y)},statics:function(b,y){c(b,y)},autobind:function(){}};function s(b,y){var C=o.hasOwnProperty(y)?o[y]:null;x.hasOwnProperty(y)&&ve(C==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",y),b&&ve(C==="DEFINE_MANY"||C==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",y)}function l(b,y){if(y){ve(typeof y!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),ve(!t(y),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var C=b.prototype,T=C.__reactAutoBindPairs;y.hasOwnProperty(Ho)&&i.mixins(b,y.mixins);for(var E in y)if(y.hasOwnProperty(E)&&E!==Ho){var _=y[E],M=C.hasOwnProperty(E);if(s(M,E),i.hasOwnProperty(E))i[E](b,_);else{var O=o.hasOwnProperty(E),F=typeof _=="function",L=F&&!O&&!M&&y.autobind!==!1;if(L)T.push(E,_),C[E]=_;else if(M){var j=o[E];ve(O&&(j==="DEFINE_MANY_MERGED"||j==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",j,E),j==="DEFINE_MANY_MERGED"?C[E]=f(C[E],_):j==="DEFINE_MANY"&&(C[E]=h(C[E],_))}else C[E]=_}}}}function c(b,y){if(y)for(var C in y){var T=y[C];if(y.hasOwnProperty(C)){var E=C in i;ve(!E,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',C);var _=C in b;if(_){var M=a.hasOwnProperty(C)?a[C]:null;ve(M==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",C),b[C]=f(b[C],T);return}b[C]=T}}}function u(b,y){ve(b&&y&&typeof b=="object"&&typeof y=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var C in y)y.hasOwnProperty(C)&&(ve(b[C]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",C),b[C]=y[C]);return b}function f(b,y){return function(){var T=b.apply(this,arguments),E=y.apply(this,arguments);if(T==null)return E;if(E==null)return T;var _={};return u(_,T),u(_,E),_}}function h(b,y){return function(){b.apply(this,arguments),y.apply(this,arguments)}}function d(b,y){var C=y.bind(b);return C}function v(b){for(var y=b.__reactAutoBindPairs,C=0;C<y.length;C+=2){var T=y[C],E=y[C+1];b[T]=d(b,E)}}var g={componentDidMount:function(){this.__isMounted=!0}},w={componentWillUnmount:function(){this.__isMounted=!1}},x={replaceState:function(b,y){this.updater.enqueueReplaceState(this,b,y)},isMounted:function(){return!!this.__isMounted}},S=function(){};Gt(S.prototype,e.prototype,x);function P(b){var y=function(T,E,_){this.__reactAutoBindPairs.length&&v(this),this.props=T,this.context=E,this.refs=Od,this.updater=_||n,this.state=null;var M=this.getInitialState?this.getInitialState():null;ve(typeof M=="object"&&!Array.isArray(M),"%s.getInitialState(): must return an object or null",y.displayName||"ReactCompositeComponent"),this.state=M};y.prototype=new S,y.prototype.constructor=y,y.prototype.__reactAutoBindPairs=[],r.forEach(l.bind(null,y)),l(y,g),l(y,b),l(y,w),y.getDefaultProps&&(y.defaultProps=y.getDefaultProps()),ve(y.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var C in o)y.prototype[C]||(y.prototype[C]=null);return y}return P}var Ld=Vd,ln=m,jd=Ld;if(typeof ln>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var kd=new ln.Component().updater,Tn=jd(ln.Component,ln.isValidElement,kd),Fd=Date.now||Nd;function Nd(){return new Date().getTime()}var Go=Fd,Bd=function(t,n,r){var o,a,i,s,l;n==null&&(n=100);function c(){var u=Go()-s;u<n&&u>0?o=setTimeout(c,n-u):(o=null,r||(l=t.apply(i,a),o||(i=a=null)))}return function(){i=this,a=arguments,s=Go();var f=r&&!o;return o||(o=setTimeout(c,n)),f&&(l=t.apply(i,a),i=a=null),l}},Ud=zd;function zd(e){for(var t=Wd(e),n=1732584193,r=-271733879,o=-1732584194,a=271733878,i=0;i<t.length;i+=16){var s=n,l=r,c=o,u=a;n=re(n,r,o,a,t[i+0],7,-680876936),a=re(a,n,r,o,t[i+1],12,-389564586),o=re(o,a,n,r,t[i+2],17,606105819),r=re(r,o,a,n,t[i+3],22,-1044525330),n=re(n,r,o,a,t[i+4],7,-176418897),a=re(a,n,r,o,t[i+5],12,1200080426),o=re(o,a,n,r,t[i+6],17,-1473231341),r=re(r,o,a,n,t[i+7],22,-45705983),n=re(n,r,o,a,t[i+8],7,1770035416),a=re(a,n,r,o,t[i+9],12,-1958414417),o=re(o,a,n,r,t[i+10],17,-42063),r=re(r,o,a,n,t[i+11],22,-1990404162),n=re(n,r,o,a,t[i+12],7,1804603682),a=re(a,n,r,o,t[i+13],12,-40341101),o=re(o,a,n,r,t[i+14],17,-1502002290),r=re(r,o,a,n,t[i+15],22,1236535329),n=oe(n,r,o,a,t[i+1],5,-165796510),a=oe(a,n,r,o,t[i+6],9,-1069501632),o=oe(o,a,n,r,t[i+11],14,643717713),r=oe(r,o,a,n,t[i+0],20,-373897302),n=oe(n,r,o,a,t[i+5],5,-701558691),a=oe(a,n,r,o,t[i+10],9,38016083),o=oe(o,a,n,r,t[i+15],14,-660478335),r=oe(r,o,a,n,t[i+4],20,-405537848),n=oe(n,r,o,a,t[i+9],5,568446438),a=oe(a,n,r,o,t[i+14],9,-1019803690),o=oe(o,a,n,r,t[i+3],14,-187363961),r=oe(r,o,a,n,t[i+8],20,1163531501),n=oe(n,r,o,a,t[i+13],5,-1444681467),a=oe(a,n,r,o,t[i+2],9,-51403784),o=oe(o,a,n,r,t[i+7],14,1735328473),r=oe(r,o,a,n,t[i+12],20,-1926607734),n=ie(n,r,o,a,t[i+5],4,-378558),a=ie(a,n,r,o,t[i+8],11,-2022574463),o=ie(o,a,n,r,t[i+11],16,1839030562),r=ie(r,o,a,n,t[i+14],23,-35309556),n=ie(n,r,o,a,t[i+1],4,-1530992060),a=ie(a,n,r,o,t[i+4],11,1272893353),o=ie(o,a,n,r,t[i+7],16,-155497632),r=ie(r,o,a,n,t[i+10],23,-1094730640),n=ie(n,r,o,a,t[i+13],4,681279174),a=ie(a,n,r,o,t[i+0],11,-358537222),o=ie(o,a,n,r,t[i+3],16,-722521979),r=ie(r,o,a,n,t[i+6],23,76029189),n=ie(n,r,o,a,t[i+9],4,-640364487),a=ie(a,n,r,o,t[i+12],11,-421815835),o=ie(o,a,n,r,t[i+15],16,530742520),r=ie(r,o,a,n,t[i+2],23,-995338651),n=ae(n,r,o,a,t[i+0],6,-198630844),a=ae(a,n,r,o,t[i+7],10,1126891415),o=ae(o,a,n,r,t[i+14],15,-1416354905),r=ae(r,o,a,n,t[i+5],21,-57434055),n=ae(n,r,o,a,t[i+12],6,1700485571),a=ae(a,n,r,o,t[i+3],10,-1894986606),o=ae(o,a,n,r,t[i+10],15,-1051523),r=ae(r,o,a,n,t[i+1],21,-2054922799),n=ae(n,r,o,a,t[i+8],6,1873313359),a=ae(a,n,r,o,t[i+15],10,-30611744),o=ae(o,a,n,r,t[i+6],15,-1560198380),r=ae(r,o,a,n,t[i+13],21,1309151649),n=ae(n,r,o,a,t[i+4],6,-145523070),a=ae(a,n,r,o,t[i+11],10,-1120210379),o=ae(o,a,n,r,t[i+2],15,718787259),r=ae(r,o,a,n,t[i+9],21,-343485551),n=ke(n,s),r=ke(r,l),o=ke(o,c),a=ke(a,u)}return Kt(n)+Kt(r)+Kt(o)+Kt(a)}var Ko="0123456789abcdef";function $r(e,t){var n=e&1|t&1,r=e>>>1|t>>>1;return r<<1|n}function gr(e,t){var n=e&1^t&1,r=e>>>1^t>>>1;return r<<1|n}function cn(e,t){var n=e&1&(t&1),r=e>>>1&t>>>1;return r<<1|n}function ke(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function Kt(e){var t="",n;for(n=0;n<=3;n++)t+=Ko.charAt(e>>n*8+4&15)+Ko.charAt(e>>n*8&15);return t}function Wd(e){var t=(e.length+8>>6)+1,n=new Array(t*16),r;for(r=0;r<t*16;r++)n[r]=0;for(r=0;r<e.length;r++)n[r>>2]|=e.charCodeAt(r)<<(e.length*8+r)%4*8;n[r>>2]|=128<<(e.length*8+r)%4*8;var o=e.length*8;return n[t*16-2]=o&255,n[t*16-2]|=(o>>>8&255)<<8,n[t*16-2]|=(o>>>16&255)<<16,n[t*16-2]|=(o>>>24&255)<<24,n}function Hd(e,t){return e<<t|e>>>32-t}function _n(e,t,n,r,o,a){return ke(Hd(ke(ke(t,e),ke(r,a)),o),n)}function re(e,t,n,r,o,a,i){return _n($r(cn(t,n),cn(~t,r)),e,t,o,a,i)}function oe(e,t,n,r,o,a,i){return _n($r(cn(t,r),cn(n,~r)),e,t,o,a,i)}function ie(e,t,n,r,o,a,i){return _n(gr(gr(t,n),r),e,t,o,a,i)}function ae(e,t,n,r,o,a,i){return _n(gr(n,$r(t,~r)),e,t,o,a,i)}var Gd=Math.ceil(Math.random()*10),Kd=function(){return++Gd},qr=function(e){return Object.prototype.toString.call(e).slice(8,-1)},Yd=qr;function $d(e){var t=Yd(e);return t!=="Object"&&t!=="Array"}var ls=$d,qd=m,Xd=Tn,Yt=qd.createElement,Zd=Xd({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||t===-1)return Yt("span",null,e.string);var n=e.highlight.source.length,r=e.string.substr(t,n);return Yt("span",null,e.string.split(e.highlight).map(function(o,a){return Yt("span",{key:a},a>0?Yt("span",{className:"json-inspector__hl"},r):null,o)}))}}),Jd=m,Qd=Tn,ef=Ud,tf=Kd,cs=qr,en=ls,nf=Zd,pe=Jd.createElement,rf=".root.",us=Qd({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+tf(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},r=this._onClick.bind(this,n);return pe("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},pe("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),pe("label",{className:"json-inspector__line",htmlFor:e,onClick:r},pe("div",{className:"json-inspector__flatpath"},n.path),pe("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=cs(e);switch(t){case"Array":var n=e.length;return pe("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[…] ":"[] ")+of(n));case"Object":var r=Object.keys(e).length;return pe("span",{className:"json-inspector__value json-inspector__value_helper"},(r>0?"{…} ":"{} ")+af(r));default:return pe("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!en(n)?Object.keys(n).map(function(r){var o=n[r],a=!this.state.original||(e.verboseShowOriginal?e.query:!1);return pe(us,{data:o,label:r,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:a?e.getOriginal:null,key:sf(r,o),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var e=this.props;return en(e.data)||this.state.original||!e.getOriginal||!e.query||Xn(this.keypath(),e.query)?null:pe("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return typeof this.props.interactiveLabel=="function"?pe(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!Xn(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(rf.length)},data:function(){return this.state.original||this.props.data},format:function(e){return pe(nf,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),en(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return e.root?!0:e.query?!Xn(t,e.query)&&typeof e.getOriginal=="function":e.isExpanded(t,e.data)}});function of(e){return e+(e===1?" item":" items")}function af(e){return e+(e===1?" property":" properties")}function sf(e,t){if(en(t)){var n=ef(String(t));return e+":"+n}else return e+"["+cs(t)+"]"}function Xn(e,t){return e.indexOf(t)!==-1}var lf=us,ds=function(){},cf=m,uf=Tn,df=cf.createElement,ff=ds,pf=uf({getDefaultProps:function(){return{onChange:ff}},render:function(){return df("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}}),fs=function(e){return Object.keys(e).length===0},hf=Object.keys,mf=ls,vf=fs,gf=function(e,t){t||(t={cacheResults:!0});var n={};return function(r){if(!t.cacheResults)return tn(e,r,t);var o;if(!n[r]){for(var a=r.length-1;a>0;a-=1)if(o=r.substr(0,a),n[o]){n[r]=tn(n[o],r,t);break}}return n[r]||(n[r]=tn(e,r,t)),n[r]}};function tn(e,t,n){return hf(e).reduce(function(r,o){var a=e[o],i;return mf(a)?(Zn(t,o,n)||Zn(t,a,n))&&(r[o]=a):Zn(t,o,n)?r[o]=a:(i=tn(a,t,n),vf(i)||Object.assign(r,yf(o,i))),r},{})}function Zn(e,t,n){if(t){var r=String(t),o=e;return n.ignoreCase&&(r=r.toLowerCase(),o=o.toLowerCase()),r.indexOf(o)!==-1}}function yf(e,t){var n={};return n[e]=t,n}var bf=qr,Jn=".";function yr(e,t){var n=t.split(Jn),r=n.shift();if(!r)return e;var o=bf(e);if(o==="Array"&&e[Yo(r)])return yr(e[Yo(r)],n.join(Jn));if(o==="Object"&&e[r])return yr(e[r],n.join(Jn))}function Yo(e){return parseInt(e,10)}var xf=yr,Sf=m,Pf=Tn,Cf=Bd,ht=Sf.createElement,wf=lf,Ef=pf,Tf=gf,_f=fs,If=xf,Mf=ds,Rf=Pf({getDefaultProps:function(){return{data:null,search:Ef,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:Mf,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=t.query!==""&&e.validateQuery(t.query),r=n?t.filterer(t.query):e.data,o=n&&_f(r);return ht("div",{className:"json-inspector "+e.className},this.renderToolbar(),o?ht("div",{className:"json-inspector__not-found"},"Nothing found"):ht(wf,{data:r,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return ht("div",{className:"json-inspector__toolbar"},ht(e,{onChange:Cf(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions);var t=typeof e.query=="string"&&e.query!==this.state.query;t&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:Tf(e,t)})},getOriginal:function(e){return If(this.props.data,e)}}),Df=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),r=Object.create(null);function o(a,i){n[a]=i,t++,t>=e&&(t=0,r=n,n=Object.create(null))}return{has:function(a){return n[a]!==void 0||r[a]!==void 0},remove:function(a){n[a]!==void 0&&(n[a]=void 0),r[a]!==void 0&&(r[a]=void 0)},get:function(a){var i=n[a];if(i!==void 0)return i;if((i=r[a])!==void 0)return o(a,i),i},set:function(a,i){n[a]!==void 0?n[a]=i:o(a,i)},clear:function(){n=Object.create(null),r=Object.create(null)}}},we=function(e){return{isEnabled:function(t){return e.some(function(n){return!!t[n]})}}},Tt={measureLayout:we(["layout","layoutId","drag"]),animation:we(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:we(["exit"]),drag:we(["drag","dragControls"]),focus:we(["whileFocus"]),hover:we(["whileHover","onHoverStart","onHoverEnd"]),tap:we(["whileTap","onTap","onTapStart","onTapCancel"]),pan:we(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:we(["whileInView","onViewportEnter","onViewportLeave"])};function Af(e){for(var t in e)e[t]!==null&&(t==="projectionNodeConstructor"?Tt.projectionNodeConstructor=e[t]:Tt[t].Component=e[t])}var ps=m.createContext({strict:!1}),hs=Object.keys(Tt),Of=hs.length;function Vf(e,t,n){var r=[];if(m.useContext(ps),!t)return null;for(var o=0;o<Of;o++){var a=hs[o],i=Tt[a],s=i.isEnabled,l=i.Component;s(e)&&l&&r.push(m.createElement(l,I({key:a},e,{visualElement:t})))}return r}var Xr=m.createContext({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),In=m.createContext({});function Lf(){return m.useContext(In).visualElement}var Mn=m.createContext(null),kt=typeof window<"u",$o=kt?m.useLayoutEffect:m.useEffect,br={current:null},ms=!1;function jf(){if(ms=!0,!(typeof window>"u"))if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return br.current=e.matches};e.addListener(t),t()}else br.current=!1}function kf(){!ms&&jf();var e=X(m.useState(br.current),1),t=e[0];return t}function Ff(){var e=kf(),t=m.useContext(Xr).reducedMotion;return t==="never"?!1:t==="always"?!0:e}function Nf(e,t,n,r){var o=m.useContext(ps),a=Lf(),i=m.useContext(Mn),s=Ff(),l=m.useRef(void 0);r||(r=o.renderer),!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceId:i==null?void 0:i.id,blockInitialAnimation:(i==null?void 0:i.initial)===!1,shouldReduceMotion:s}));var c=l.current;return $o(function(){c==null||c.syncRender()}),m.useEffect(function(){var u;(u=c==null?void 0:c.animationState)===null||u===void 0||u.animateChanges()}),$o(function(){return function(){return c==null?void 0:c.notifyUnmount()}},[]),c}function nt(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Bf(e,t,n){return m.useCallback(function(r){var o;r&&((o=e.mount)===null||o===void 0||o.call(e,r)),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):nt(n)&&(n.current=r))},[t])}function vs(e){return Array.isArray(e)}function ge(e){return typeof e=="string"||vs(e)}function Uf(e){var t={};return e.forEachValue(function(n,r){return t[r]=n.get()}),t}function zf(e){var t={};return e.forEachValue(function(n,r){return t[r]=n.getVelocity()}),t}function gs(e,t,n,r,o){var a;return r===void 0&&(r={}),o===void 0&&(o={}),typeof t=="function"&&(t=t(n??e.custom,r,o)),typeof t=="string"&&(t=(a=e.variants)===null||a===void 0?void 0:a[t]),typeof t=="function"&&(t=t(n??e.custom,r,o)),t}function Rn(e,t,n){var r=e.getProps();return gs(r,t,n??r.custom,Uf(e),zf(e))}function Dn(e){var t;return typeof((t=e.animate)===null||t===void 0?void 0:t.start)=="function"||ge(e.initial)||ge(e.animate)||ge(e.whileHover)||ge(e.whileDrag)||ge(e.whileTap)||ge(e.whileFocus)||ge(e.exit)}function ys(e){return Boolean(Dn(e)||e.variants)}function Wf(e,t){if(Dn(e)){var n=e.initial,r=e.animate;return{initial:n===!1||ge(n)?n:void 0,animate:ge(r)?r:void 0}}return e.inherit!==!1?t:{}}function Hf(e){var t=Wf(e,m.useContext(In)),n=t.initial,r=t.animate;return m.useMemo(function(){return{initial:n,animate:r}},[qo(n),qo(r)])}function qo(e){return Array.isArray(e)?e.join(" "):e}function An(e){var t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const bs=1/60*1e3,Gf=typeof performance<"u"?()=>performance.now():()=>Date.now(),xs=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(Gf()),bs);function Kf(e){let t=[],n=[],r=0,o=!1,a=!1;const i=new WeakSet,s={schedule:(l,c=!1,u=!1)=>{const f=u&&o,h=f?t:n;return c&&i.add(l),h.indexOf(l)===-1&&(h.push(l),f&&o&&(r=t.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),i.delete(l)},process:l=>{if(o){a=!0;return}if(o=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let c=0;c<r;c++){const u=t[c];u(l),i.has(u)&&(s.schedule(u),e())}o=!1,a&&(a=!1,s.process(l))}};return s}const Yf=40;let xr=!0,_t=!1,Sr=!1;const it={delta:0,timestamp:0},Ft=["read","update","preRender","render","postRender"],On=Ft.reduce((e,t)=>(e[t]=Kf(()=>_t=!0),e),{}),Se=Ft.reduce((e,t)=>{const n=On[t];return e[t]=(r,o=!1,a=!1)=>(_t||qf(),n.schedule(r,o,a)),e},{}),st=Ft.reduce((e,t)=>(e[t]=On[t].cancel,e),{}),Qn=Ft.reduce((e,t)=>(e[t]=()=>On[t].process(it),e),{}),$f=e=>On[e].process(it),Ss=e=>{_t=!1,it.delta=xr?bs:Math.max(Math.min(e-it.timestamp,Yf),1),it.timestamp=e,Sr=!0,Ft.forEach($f),Sr=!1,_t&&(xr=!1,xs(Ss))},qf=()=>{_t=!0,xr=!0,Sr||xs(Ss)},un=()=>it,dn=(e,t,n)=>Math.min(Math.max(n,e),t),er=.001,Xf=.01,Xo=10,Zf=.05,Jf=1;function Qf({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,a;Ic(e<=Xo*1e3);let i=1-t;i=dn(Zf,Jf,i),e=dn(Xf,Xo,e/1e3),i<1?(o=c=>{const u=c*i,f=u*e,h=u-n,d=Pr(c,i),v=Math.exp(-f);return er-h/d*v},a=c=>{const f=c*i*e,h=f*n+n,d=Math.pow(i,2)*Math.pow(c,2)*e,v=Math.exp(-f),g=Pr(Math.pow(c,2),i);return(-o(c)+er>0?-1:1)*((h-d)*v)/g}):(o=c=>{const u=Math.exp(-c*e),f=(c-n)*e+1;return-er+u*f},a=c=>{const u=Math.exp(-c*e),f=(n-c)*(e*e);return u*f});const s=5/e,l=tp(o,a,s);if(e=e*1e3,isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:e}}}const ep=12;function tp(e,t,n){let r=n;for(let o=1;o<ep;o++)r=r-e(r)/t(r);return r}function Pr(e,t){return e*Math.sqrt(1-t*t)}const np=["duration","bounce"],rp=["stiffness","damping","mass"];function Zo(e,t){return t.some(n=>e[n]!==void 0)}function op(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Zo(e,rp)&&Zo(e,np)){const n=Qf(e);t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function Zr(e){var{from:t=0,to:n=1,restSpeed:r=2,restDelta:o}=e,a=he(e,["from","to","restSpeed","restDelta"]);const i={done:!1,value:t};let{stiffness:s,damping:l,mass:c,velocity:u,duration:f,isResolvedFromDuration:h}=op(a),d=Jo,v=Jo;function g(){const w=u?-(u/1e3):0,x=n-t,S=l/(2*Math.sqrt(s*c)),P=Math.sqrt(s/c)/1e3;if(o===void 0&&(o=Math.min(Math.abs(n-t)/100,.4)),S<1){const b=Pr(P,S);d=y=>{const C=Math.exp(-S*P*y);return n-C*((w+S*P*x)/b*Math.sin(b*y)+x*Math.cos(b*y))},v=y=>{const C=Math.exp(-S*P*y);return S*P*C*(Math.sin(b*y)*(w+S*P*x)/b+x*Math.cos(b*y))-C*(Math.cos(b*y)*(w+S*P*x)-b*x*Math.sin(b*y))}}else if(S===1)d=b=>n-Math.exp(-P*b)*(x+(w+P*x)*b);else{const b=P*Math.sqrt(S*S-1);d=y=>{const C=Math.exp(-S*P*y),T=Math.min(b*y,300);return n-C*((w+S*P*x)*Math.sinh(T)+b*x*Math.cosh(T))/b}}}return g(),{next:w=>{const x=d(w);if(h)i.done=w>=f;else{const S=v(w)*1e3,P=Math.abs(S)<=r,b=Math.abs(n-x)<=o;i.done=P&&b}return i.value=i.done?n:x,i},flipTarget:()=>{u=-u,[t,n]=[n,t],g()}}}Zr.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const Jo=e=>0,It=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Y=(e,t,n)=>-n*e+n*t+e,Ps=(e,t)=>n=>Math.max(Math.min(n,t),e),gt=e=>e%1?Number(e.toFixed(5)):e,Mt=/(-)?([\d]*\.?[\d])+/g,Cr=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,ip=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Nt(e){return typeof e=="string"}const Ye={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},yt=Object.assign(Object.assign({},Ye),{transform:Ps(0,1)}),$t=Object.assign(Object.assign({},Ye),{default:1}),Bt=e=>({test:t=>Nt(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ae=Bt("deg"),Pe=Bt("%"),V=Bt("px"),ap=Bt("vh"),sp=Bt("vw"),Qo=Object.assign(Object.assign({},Pe),{parse:e=>Pe.parse(e)/100,transform:e=>Pe.transform(e*100)}),Jr=(e,t)=>n=>Boolean(Nt(n)&&ip.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Cs=(e,t,n)=>r=>{if(!Nt(r))return r;const[o,a,i,s]=r.match(Mt);return{[e]:parseFloat(o),[t]:parseFloat(a),[n]:parseFloat(i),alpha:s!==void 0?parseFloat(s):1}},He={test:Jr("hsl","hue"),parse:Cs("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Pe.transform(gt(t))+", "+Pe.transform(gt(n))+", "+gt(yt.transform(r))+")"},lp=Ps(0,255),tr=Object.assign(Object.assign({},Ye),{transform:e=>Math.round(lp(e))}),Fe={test:Jr("rgb","red"),parse:Cs("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+tr.transform(e)+", "+tr.transform(t)+", "+tr.transform(n)+", "+gt(yt.transform(r))+")"};function cp(e){let t="",n="",r="",o="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),o=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),o=e.substr(4,1),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const wr={test:Jr("#"),parse:cp,transform:Fe.transform},de={test:e=>Fe.test(e)||wr.test(e)||He.test(e),parse:e=>Fe.test(e)?Fe.parse(e):He.test(e)?He.parse(e):wr.parse(e),transform:e=>Nt(e)?e:e.hasOwnProperty("red")?Fe.transform(e):He.transform(e)},ws="${c}",Es="${n}";function up(e){var t,n,r,o;return isNaN(e)&&Nt(e)&&((n=(t=e.match(Mt))===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0)+((o=(r=e.match(Cr))===null||r===void 0?void 0:r.length)!==null&&o!==void 0?o:0)>0}function Ts(e){typeof e=="number"&&(e=`${e}`);const t=[];let n=0;const r=e.match(Cr);r&&(n=r.length,e=e.replace(Cr,ws),t.push(...r.map(de.parse)));const o=e.match(Mt);return o&&(e=e.replace(Mt,Es),t.push(...o.map(Ye.parse))),{values:t,numColors:n,tokenised:e}}function _s(e){return Ts(e).values}function Is(e){const{values:t,numColors:n,tokenised:r}=Ts(e),o=t.length;return a=>{let i=r;for(let s=0;s<o;s++)i=i.replace(s<n?ws:Es,s<n?de.transform(a[s]):gt(a[s]));return i}}const dp=e=>typeof e=="number"?0:e;function fp(e){const t=_s(e);return Is(e)(t.map(dp))}const _e={test:up,parse:_s,createTransformer:Is,getAnimatableNone:fp},pp=new Set(["brightness","contrast","saturate","opacity"]);function hp(e){let[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Mt)||[];if(!r)return e;const o=n.replace(r,"");let a=pp.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+o+")"}const mp=/([a-z-]*)\(.*?\)/g,Er=Object.assign(Object.assign({},_e),{getAnimatableNone:e=>{const t=e.match(mp);return t?t.map(hp).join(" "):e}});function nr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ei({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,a=0,i=0;if(!t)o=a=i=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;o=nr(l,s,e+1/3),a=nr(l,s,e),i=nr(l,s,e-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(i*255),alpha:r}}const vp=(e,t,n)=>{const r=e*e,o=t*t;return Math.sqrt(Math.max(0,n*(o-r)+r))},gp=[wr,Fe,He],ti=e=>gp.find(t=>t.test(e)),Ms=(e,t)=>{let n=ti(e),r=ti(t),o=n.parse(e),a=r.parse(t);n===He&&(o=ei(o),n=Fe),r===He&&(a=ei(a),r=Fe);const i=Object.assign({},o);return s=>{for(const l in i)l!=="alpha"&&(i[l]=vp(o[l],a[l],s));return i.alpha=Y(o.alpha,a.alpha,s),n.transform(i)}},Tr=e=>typeof e=="number",yp=(e,t)=>n=>t(e(n)),Vn=(...e)=>e.reduce(yp);function Rs(e,t){return Tr(e)?n=>Y(e,t,n):de.test(e)?Ms(e,t):As(e,t)}const Ds=(e,t)=>{const n=[...e],r=n.length,o=e.map((a,i)=>Rs(a,t[i]));return a=>{for(let i=0;i<r;i++)n[i]=o[i](a);return n}},bp=(e,t)=>{const n=Object.assign(Object.assign({},e),t),r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Rs(e[o],t[o]));return o=>{for(const a in r)n[a]=r[a](o);return n}};function ni(e){const t=_e.parse(e),n=t.length;let r=0,o=0,a=0;for(let i=0;i<n;i++)r||typeof t[i]=="number"?r++:t[i].hue!==void 0?a++:o++;return{parsed:t,numNumbers:r,numRGB:o,numHSL:a}}const As=(e,t)=>{const n=_e.createTransformer(t),r=ni(e),o=ni(t);return r.numHSL===o.numHSL&&r.numRGB===o.numRGB&&r.numNumbers>=o.numNumbers?Vn(Ds(r.parsed,o.parsed),n):i=>`${i>0?t:e}`},xp=(e,t)=>n=>Y(e,t,n);function Sp(e){if(typeof e=="number")return xp;if(typeof e=="string")return de.test(e)?Ms:As;if(Array.isArray(e))return Ds;if(typeof e=="object")return bp}function Pp(e,t,n){const r=[],o=n||Sp(e[0]),a=e.length-1;for(let i=0;i<a;i++){let s=o(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]:t;s=Vn(l,s)}r.push(s)}return r}function Cp([e,t],[n]){return r=>n(It(e,t,r))}function wp(e,t){const n=e.length,r=n-1;return o=>{let a=0,i=!1;if(o<=e[0]?i=!0:o>=e[r]&&(a=r-1,i=!0),!i){let l=1;for(;l<n&&!(e[l]>o||l===r);l++);a=l-1}const s=It(e[a],e[a+1],o);return t[a](s)}}function Os(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const a=e.length;sn(a===t.length),sn(!r||!Array.isArray(r)||r.length===a-1),e[0]>e[a-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const i=Pp(t,r,o),s=a===2?Cp(e,i):wp(e,i);return n?l=>s(dn(e[0],e[a-1],l)):s}const Ln=e=>t=>1-e(1-t),Qr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ep=e=>t=>Math.pow(t,e),Vs=e=>t=>t*t*((e+1)*t-e),Tp=e=>{const t=Vs(e);return n=>(n*=2)<1?.5*t(n):.5*(2-Math.pow(2,-10*(n-1)))},Ls=1.525,_p=4/11,Ip=8/11,Mp=9/10,eo=e=>e,to=Ep(2),Rp=Ln(to),js=Qr(to),ks=e=>1-Math.sin(Math.acos(e)),no=Ln(ks),Dp=Qr(no),ro=Vs(Ls),Ap=Ln(ro),Op=Qr(ro),Vp=Tp(Ls),Lp=4356/361,jp=35442/1805,kp=16061/1805,fn=e=>{if(e===1||e===0)return e;const t=e*e;return e<_p?7.5625*t:e<Ip?9.075*t-9.9*e+3.4:e<Mp?Lp*t-jp*e+kp:10.8*e*e-20.52*e+10.72},Fp=Ln(fn),Np=e=>e<.5?.5*(1-fn(1-e*2)):.5*fn(e*2-1)+.5;function Bp(e,t){return e.map(()=>t||js).splice(0,e.length-1)}function Up(e){const t=e.length;return e.map((n,r)=>r!==0?r/(t-1):0)}function zp(e,t){return e.map(n=>n*t)}function nn({from:e=0,to:t=1,ease:n,offset:r,duration:o=300}){const a={done:!1,value:e},i=Array.isArray(t)?t:[e,t],s=zp(r&&r.length===i.length?r:Up(i),o);function l(){return Os(s,i,{ease:Array.isArray(n)?n:Bp(i,n)})}let c=l();return{next:u=>(a.value=c(u),a.done=u>=o,a),flipTarget:()=>{i.reverse(),c=l()}}}function Wp({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:o=.5,modifyTarget:a}){const i={done:!1,value:t};let s=n*e;const l=t+s,c=a===void 0?l:a(l);return c!==l&&(s=c-t),{next:u=>{const f=-s*Math.exp(-u/r);return i.done=!(f>o||f<-o),i.value=i.done?c:c+f,i},flipTarget:()=>{}}}const ri={keyframes:nn,spring:Zr,decay:Wp};function Hp(e){if(Array.isArray(e.to))return nn;if(ri[e.type])return ri[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?nn:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?Zr:nn}function Fs(e,t,n=0){return e-t-n}function Gp(e,t,n=0,r=!0){return r?Fs(t+-e,t,n):t-(e-t)+n}function Kp(e,t,n,r){return r?e>=t+n:e<=-n}const Yp=e=>{const t=({delta:n})=>e(n);return{start:()=>Se.update(t,!0),stop:()=>st.update(t)}};function Ns(e){var t,n,{from:r,autoplay:o=!0,driver:a=Yp,elapsed:i=0,repeat:s=0,repeatType:l="loop",repeatDelay:c=0,onPlay:u,onStop:f,onComplete:h,onRepeat:d,onUpdate:v}=e,g=he(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:w}=g,x,S=0,P=g.duration,b,y=!1,C=!0,T;const E=Hp(g);!((n=(t=E).needsInterpolation)===null||n===void 0)&&n.call(t,r,w)&&(T=Os([0,100],[r,w],{clamp:!1}),r=0,w=100);const _=E(Object.assign(Object.assign({},g),{from:r,to:w}));function M(){S++,l==="reverse"?(C=S%2===0,i=Gp(i,P,c,C)):(i=Fs(i,P,c),l==="mirror"&&_.flipTarget()),y=!1,d&&d()}function O(){x.stop(),h&&h()}function F(j){if(C||(j=-j),i+=j,!y){const z=_.next(Math.max(0,i));b=z.value,T&&(b=T(b)),y=C?z.done:i<=0}v==null||v(b),y&&(S===0&&(P??(P=i)),S<s?Kp(i,P,c,C)&&M():O())}function L(){u==null||u(),x=a(F),x.start()}return o&&L(),{stop:()=>{f==null||f(),x.stop()}}}function Bs(e,t){return t?e*(1e3/t):0}function $p({from:e=0,velocity:t=0,min:n,max:r,power:o=.8,timeConstant:a=750,bounceStiffness:i=500,bounceDamping:s=10,restDelta:l=1,modifyTarget:c,driver:u,onUpdate:f,onComplete:h,onStop:d}){let v;function g(P){return n!==void 0&&P<n||r!==void 0&&P>r}function w(P){return n===void 0?r:r===void 0||Math.abs(n-P)<Math.abs(r-P)?n:r}function x(P){v==null||v.stop(),v=Ns(Object.assign(Object.assign({},P),{driver:u,onUpdate:b=>{var y;f==null||f(b),(y=P.onUpdate)===null||y===void 0||y.call(P,b)},onComplete:h,onStop:d}))}function S(P){x(Object.assign({type:"spring",stiffness:i,damping:s,restDelta:l},P))}if(g(e))S({from:e,velocity:t,to:w(e)});else{let P=o*t+e;typeof c<"u"&&(P=c(P));const b=w(P),y=b===n?-1:1;let C,T;const E=_=>{C=T,T=_,t=Bs(_-C,un().delta),(y===1&&_>b||y===-1&&_<b)&&S({from:_,to:b,velocity:t})};x({type:"decay",from:e,velocity:t,timeConstant:a,power:o,restDelta:l,modifyTarget:c,onUpdate:g(P)?E:void 0})}return{stop:()=>v==null?void 0:v.stop()}}const _r=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),oi=e=>_r(e)&&e.hasOwnProperty("z"),qt=(e,t)=>Math.abs(e-t);function Us(e,t){if(Tr(e)&&Tr(t))return qt(e,t);if(_r(e)&&_r(t)){const n=qt(e.x,t.x),r=qt(e.y,t.y),o=oi(e)&&oi(t)?qt(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(o,2))}}const zs=(e,t)=>1-3*t+3*e,Ws=(e,t)=>3*t-6*e,Hs=e=>3*e,pn=(e,t,n)=>((zs(t,n)*e+Ws(t,n))*e+Hs(t))*e,Gs=(e,t,n)=>3*zs(t,n)*e*e+2*Ws(t,n)*e+Hs(t),qp=1e-7,Xp=10;function Zp(e,t,n,r,o){let a,i,s=0;do i=t+(n-t)/2,a=pn(i,r,o)-e,a>0?n=i:t=i;while(Math.abs(a)>qp&&++s<Xp);return i}const Jp=8,Qp=.001;function eh(e,t,n,r){for(let o=0;o<Jp;++o){const a=Gs(t,n,r);if(a===0)return t;const i=pn(t,n,r)-e;t-=i/a}return t}const rn=11,Xt=1/(rn-1);function th(e,t,n,r){if(e===t&&n===r)return eo;const o=new Float32Array(rn);for(let i=0;i<rn;++i)o[i]=pn(i*Xt,e,n);function a(i){let s=0,l=1;const c=rn-1;for(;l!==c&&o[l]<=i;++l)s+=Xt;--l;const u=(i-o[l])/(o[l+1]-o[l]),f=s+u*Xt,h=Gs(f,e,n);return h>=Qp?eh(i,f,e,n):h===0?f:Zp(i,s,s+Xt,e,n)}return i=>i===0||i===1?i:pn(a(i),t,r)}function oo(e,t){e.indexOf(t)===-1&&e.push(t)}function io(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var bt=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(t){var n=this;return oo(this.subscriptions,t),function(){return io(n.subscriptions,t)}},e.prototype.notify=function(t,n,r){var o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(var a=0;a<o;a++){var i=this.subscriptions[a];i&&i(t,n,r)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),nh=function(e){return!isNaN(parseFloat(e))},rh=function(){function e(t){var n=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new bt,this.velocityUpdateSubscribers=new bt,this.renderSubscribers=new bt,this.canTrackVelocity=!1,this.updateAndNotify=function(r,o){o===void 0&&(o=!0),n.prev=n.current,n.current=r;var a=un(),i=a.delta,s=a.timestamp;n.lastUpdated!==s&&(n.timeDelta=i,n.lastUpdated=s,Se.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),o&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return Se.postRender(n.velocityCheck)},this.velocityCheck=function(r){var o=r.timestamp;o!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=nh(this.current)}return e.prototype.onChange=function(t){return this.updateSubscribers.add(t)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(t){return t(this.get()),this.renderSubscribers.add(t)},e.prototype.attach=function(t){this.passiveEffect=t},e.prototype.set=function(t,n){n===void 0&&(n=!0),!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?Bs(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(t){var n=this;return this.stop(),new Promise(function(r){n.hasAnimated=!0,n.stopAnimation=t(r)}).then(function(){return n.clearAnimation()})},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function lt(e){return new rh(e)}var Ie=function(e){return Boolean(e!==null&&typeof e=="object"&&e.getVelocity)},hn=function(e){return e*1e3},oh={linear:eo,easeIn:to,easeInOut:js,easeOut:Rp,circIn:ks,circInOut:Dp,circOut:no,backIn:ro,backInOut:Op,backOut:Ap,anticipate:Vp,bounceIn:Fp,bounceInOut:Np,bounceOut:fn},ii=function(e){if(Array.isArray(e)){sn(e.length===4);var t=X(e,4),n=t[0],r=t[1],o=t[2],a=t[3];return th(n,r,o,a)}else if(typeof e=="string")return oh[e];return e},ih=function(e){return Array.isArray(e)&&typeof e[0]!="number"},ai=function(e,t){return e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&_e.test(t)&&!t.startsWith("url("))},Rt=function(e){return Array.isArray(e)},ze=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},Zt=function(e){return{type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}},rr=function(){return{type:"keyframes",ease:"linear",duration:.3}},ah=function(e){return{type:"keyframes",duration:.8,values:e}},si={x:ze,y:ze,z:ze,rotate:ze,rotateX:ze,rotateY:ze,rotateZ:ze,scaleX:Zt,scaleY:Zt,scale:Zt,opacity:rr,backgroundColor:rr,color:rr,default:Zt},sh=function(e,t){var n;return Rt(t)?n=ah:n=si[e]||si.default,I({to:t},n(t))},li=I(I({},Ye),{transform:Math.round}),Ks={borderWidth:V,borderTopWidth:V,borderRightWidth:V,borderBottomWidth:V,borderLeftWidth:V,borderRadius:V,radius:V,borderTopLeftRadius:V,borderTopRightRadius:V,borderBottomRightRadius:V,borderBottomLeftRadius:V,width:V,maxWidth:V,height:V,maxHeight:V,size:V,top:V,right:V,bottom:V,left:V,padding:V,paddingTop:V,paddingRight:V,paddingBottom:V,paddingLeft:V,margin:V,marginTop:V,marginRight:V,marginBottom:V,marginLeft:V,rotate:Ae,rotateX:Ae,rotateY:Ae,rotateZ:Ae,scale:$t,scaleX:$t,scaleY:$t,scaleZ:$t,skew:Ae,skewX:Ae,skewY:Ae,distance:V,translateX:V,translateY:V,translateZ:V,x:V,y:V,z:V,perspective:V,transformPerspective:V,opacity:yt,originX:Qo,originY:Qo,originZ:V,zIndex:li,fillOpacity:yt,strokeOpacity:yt,numOctaves:li},lh=I(I({},Ks),{color:de,backgroundColor:de,outlineColor:de,fill:de,stroke:de,borderColor:de,borderTopColor:de,borderRightColor:de,borderBottomColor:de,borderLeftColor:de,filter:Er,WebkitFilter:Er}),ao=function(e){return lh[e]};function so(e,t){var n,r=ao(e);return r!==Er&&(r=_e),(n=r.getAnimatableNone)===null||n===void 0?void 0:n.call(r,t)}var ch={current:!1},uh=function(e){return Boolean(e&&typeof e=="object"&&e.mix&&e.toValue)},Ys=function(e){return Rt(e)?e[e.length-1]||0:e};function dh(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=he(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}function fh(e){var t=e.ease,n=e.times,r=e.yoyo,o=e.flip,a=e.loop,i=he(e,["ease","times","yoyo","flip","loop"]),s=I({},i);return n&&(s.offset=n),i.duration&&(s.duration=hn(i.duration)),i.repeatDelay&&(s.repeatDelay=hn(i.repeatDelay)),t&&(s.ease=ih(t)?t.map(ii):ii(t)),i.type==="tween"&&(s.type="keyframes"),(r||a||o)&&(r?s.repeatType="reverse":a?s.repeatType="loop":o&&(s.repeatType="mirror"),s.repeat=a||r||o||i.repeat),i.type!=="spring"&&(s.type="keyframes"),s}function ph(e,t){var n,r,o=lo(e,t)||{};return(r=(n=o.delay)!==null&&n!==void 0?n:e.delay)!==null&&r!==void 0?r:0}function hh(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=xe([],X(e.to),!1),e.to[0]=e.from),e}function mh(e,t,n){var r;return Array.isArray(t.to)&&((r=e.duration)!==null&&r!==void 0||(e.duration=.8)),hh(t),dh(e)||(e=I(I({},e),sh(n,t.to))),I(I({},t),fh(e))}function vh(e,t,n,r,o){var a,i=lo(r,e),s=(a=i.from)!==null&&a!==void 0?a:t.get(),l=ai(e,n);s==="none"&&l&&typeof n=="string"?s=so(e,n):ci(s)&&typeof n=="string"?s=ui(n):!Array.isArray(n)&&ci(n)&&typeof s=="string"&&(n=ui(s));var c=ai(e,s);function u(){var h={from:s,to:n,velocity:t.getVelocity(),onComplete:o,onUpdate:function(d){return t.set(d)}};return i.type==="inertia"||i.type==="decay"?$p(I(I({},h),i)):Ns(I(I({},mh(i,h,e)),{onUpdate:function(d){var v;h.onUpdate(d),(v=i.onUpdate)===null||v===void 0||v.call(i,d)},onComplete:function(){var d;h.onComplete(),(d=i.onComplete)===null||d===void 0||d.call(i)}}))}function f(){var h,d,v=Ys(n);return t.set(v),o(),(h=i==null?void 0:i.onUpdate)===null||h===void 0||h.call(i,v),(d=i==null?void 0:i.onComplete)===null||d===void 0||d.call(i),{stop:function(){}}}return!c||!l||i.type===!1?f:u}function ci(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function ui(e){return typeof e=="number"?0:so("",e)}function lo(e,t){return e[t]||e.default||e}function co(e,t,n,r){return r===void 0&&(r={}),ch.current&&(r={type:!1}),t.start(function(o){var a,i,s=vh(e,t,n,r,o),l=ph(r,e),c=function(){return i=s()};return l?a=window.setTimeout(c,hn(l)):c(),function(){clearTimeout(a),i==null||i.stop()}})}function gh(e,t,n){n===void 0&&(n={});var r=Ie(e)?e:lt(e);return co("",r,t,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}var $s=["TopLeft","TopRight","BottomLeft","BottomRight"],yh=$s.length,di=function(e){return typeof e=="string"?parseFloat(e):e},fi=function(e){return typeof e=="number"||V.test(e)};function bh(e,t,n,r,o,a){var i,s,l,c;o?(e.opacity=Y(0,(i=n.opacity)!==null&&i!==void 0?i:1,xh(r)),e.opacityExit=Y((s=t.opacity)!==null&&s!==void 0?s:1,0,Sh(r))):a&&(e.opacity=Y((l=t.opacity)!==null&&l!==void 0?l:1,(c=n.opacity)!==null&&c!==void 0?c:1,r));for(var u=0;u<yh;u++){var f="border".concat($s[u],"Radius"),h=pi(t,f),d=pi(n,f);if(!(h===void 0&&d===void 0)){h||(h=0),d||(d=0);var v=h===0||d===0||fi(h)===fi(d);v?(e[f]=Math.max(Y(di(h),di(d),r),0),(Pe.test(d)||Pe.test(h))&&(e[f]+="%")):e[f]=d}}(t.rotate||n.rotate)&&(e.rotate=Y(t.rotate||0,n.rotate||0,r))}function pi(e,t){var n;return(n=e[t])!==null&&n!==void 0?n:e.borderRadius}var xh=qs(0,.5,no),Sh=qs(.5,.95,eo);function qs(e,t,n){return function(r){return r<e?0:r>t?1:n(It(e,t,r))}}function hi(e,t){e.min=t.min,e.max=t.max}function ye(e,t){hi(e.x,t.x),hi(e.y,t.y)}function or(e){return e===void 0||e===1}function Xs(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!or(t)||!or(n)||!or(r)}function Oe(e){return Xs(e)||mi(e.x)||mi(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function mi(e){return e&&e!=="0%"}function mn(e,t,n){var r=e-n,o=t*r;return n+o}function vi(e,t,n,r,o){return o!==void 0&&(e=mn(e,o,r)),mn(e,n,r)+t}function Ir(e,t,n,r,o){t===void 0&&(t=0),n===void 0&&(n=1),e.min=vi(e.min,t,n,r,o),e.max=vi(e.max,t,n,r,o)}function Zs(e,t){var n=t.x,r=t.y;Ir(e.x,n.translate,n.scale,n.originPoint),Ir(e.y,r.translate,r.scale,r.originPoint)}function Ph(e,t,n,r){var o,a;r===void 0&&(r=!1);var i=n.length;if(i){t.x=t.y=1;for(var s,l,c=0;c<i;c++)s=n[c],l=s.projectionDelta,((a=(o=s.instance)===null||o===void 0?void 0:o.style)===null||a===void 0?void 0:a.display)!=="contents"&&(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ot(e,{x:-s.scroll.x,y:-s.scroll.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Zs(e,l)),r&&Oe(s.latestValues)&&ot(e,s.latestValues))}}function rt(e,t){e.min=e.min+t,e.max=e.max+t}function gi(e,t,n){var r=X(n,3),o=r[0],a=r[1],i=r[2],s=t[i]!==void 0?t[i]:.5,l=Y(e.min,e.max,s);Ir(e,t[o],t[a],l,t.scale)}var Ch=["x","scaleX","originX"],wh=["y","scaleY","originY"];function ot(e,t){gi(e.x,t,Ch),gi(e.y,t,wh)}function Me(e){return e.max-e.min}function yi(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=.01),Us(e,t)<n}function bi(e,t,n,r){r===void 0&&(r=.5),e.origin=r,e.originPoint=Y(t.min,t.max,e.origin),e.scale=Me(n)/Me(t),(yi(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Y(n.min,n.max,e.origin)-e.originPoint,(yi(e.translate)||isNaN(e.translate))&&(e.translate=0)}function xt(e,t,n,r){bi(e.x,t.x,n.x,r==null?void 0:r.originX),bi(e.y,t.y,n.y,r==null?void 0:r.originY)}function xi(e,t,n){e.min=n.min+t.min,e.max=e.min+Me(t)}function Eh(e,t,n){xi(e.x,t.x,n.x),xi(e.y,t.y,n.y)}function Si(e,t,n){e.min=t.min-n.min,e.max=e.min+Me(t)}function St(e,t,n){Si(e.x,t.x,n.x),Si(e.y,t.y,n.y)}function Pi(e,t,n,r,o){return e-=t,e=mn(e,1/n,r),o!==void 0&&(e=mn(e,1/o,r)),e}function Th(e,t,n,r,o,a,i){if(t===void 0&&(t=0),n===void 0&&(n=1),r===void 0&&(r=.5),a===void 0&&(a=e),i===void 0&&(i=e),Pe.test(t)){t=parseFloat(t);var s=Y(i.min,i.max,t/100);t=s-i.min}if(typeof t=="number"){var l=Y(a.min,a.max,r);e===a&&(l-=t),e.min=Pi(e.min,t,n,l,o),e.max=Pi(e.max,t,n,l,o)}}function Ci(e,t,n,r,o){var a=X(n,3),i=a[0],s=a[1],l=a[2];Th(e,t[i],t[s],t[l],t.scale,r,o)}var _h=["x","scaleX","originX"],Ih=["y","scaleY","originY"];function wi(e,t,n,r){Ci(e.x,t,_h,n==null?void 0:n.x,r==null?void 0:r.x),Ci(e.y,t,Ih,n==null?void 0:n.y,r==null?void 0:r.y)}var Ei=function(){return{translate:0,scale:1,origin:0,originPoint:0}},Pt=function(){return{x:Ei(),y:Ei()}},Ti=function(){return{min:0,max:0}},se=function(){return{x:Ti(),y:Ti()}};function _i(e){return e.translate===0&&e.scale===1}function Js(e){return _i(e.x)&&_i(e.y)}function Qs(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var Mh=function(){function e(){this.members=[]}return e.prototype.add=function(t){oo(this.members,t),t.scheduleRender()},e.prototype.remove=function(t){if(io(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){var n=this.members[this.members.length-1];n&&this.promote(n)}},e.prototype.relegate=function(t){var n=this.members.findIndex(function(i){return t===i});if(n===0)return!1;for(var r,o=n;o>=0;o--){var a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1},e.prototype.promote=function(t,n){var r,o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,n&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues,t.snapshot.isShared=!0),!((r=t.root)===null||r===void 0)&&r.isUpdating&&(t.isLayoutDirty=!0);var a=t.options.crossfade;a===!1&&o.hide()}},e.prototype.exitAnimationComplete=function(){this.members.forEach(function(t){var n,r,o,a,i;(r=(n=t.options).onExitComplete)===null||r===void 0||r.call(n),(i=(o=t.resumingFrom)===null||o===void 0?void 0:(a=o.options).onExitComplete)===null||i===void 0||i.call(a)})},e.prototype.scheduleRender=function(){this.members.forEach(function(t){t.instance&&t.scheduleRender(!1)})},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}(),vn={};function Rh(e){Object.assign(vn,e)}var Dh="translate3d(0px, 0px, 0) scale(1, 1)";function Ii(e,t,n){var r=e.x.translate/t.x,o=e.y.translate/t.y,a="translate3d(".concat(r,"px, ").concat(o,"px, 0) ");if(n){var i=n.rotate,s=n.rotateX,l=n.rotateY;i&&(a+="rotate(".concat(i,"deg) ")),s&&(a+="rotateX(".concat(s,"deg) ")),l&&(a+="rotateY(".concat(l,"deg) "))}return a+="scale(".concat(e.x.scale,", ").concat(e.y.scale,")"),a===Dh?"none":a}function be(e){return[e("x"),e("y")]}var Mr=["","X","Y","Z"],Ah=["translate","scale","rotate","skew"],Dt=["transformPerspective","x","y","z"];Ah.forEach(function(e){return Mr.forEach(function(t){return Dt.push(e+t)})});function Oh(e,t){return Dt.indexOf(e)-Dt.indexOf(t)}var Vh=new Set(Dt);function Ut(e){return Vh.has(e)}var Lh=new Set(["originX","originY","originZ"]);function el(e){return Lh.has(e)}var jh=function(e,t){return e.depth-t.depth},kh=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(t){oo(this.children,t),this.isDirty=!0},e.prototype.remove=function(t){io(this.children,t),this.isDirty=!0},e.prototype.forEach=function(t){this.isDirty&&this.children.sort(jh),this.isDirty=!1,this.children.forEach(t)},e}();function on(e){var t=Ie(e)?e.get():e;return uh(t)?t.toValue():t}var Mi=1e3,Ct={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tl(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,o=e.resetTransform;return function(){function a(i,s,l){var c=this;s===void 0&&(s={}),l===void 0&&(l=n==null?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){c.isUpdating&&(c.isUpdating=!1,c.clearAllSnapshots())},this.updateProjection=function(){c.nodes.forEach(Wh),c.nodes.forEach(Hh)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=i,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?xe(xe([],X(l.path),!1),[l],!1):[],this.parent=l,this.depth=l?l.depth+1:0,i&&this.root.registerPotentialNode(i,this);for(var u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new kh)}return a.prototype.addEventListener=function(i,s){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new bt),this.eventHandlers.get(i).add(s)},a.prototype.notifyListeners=function(i){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];var c=this.eventHandlers.get(i);c==null||c.notify.apply(c,xe([],X(s),!1))},a.prototype.hasListeners=function(i){return this.eventHandlers.has(i)},a.prototype.registerPotentialNode=function(i,s){this.potentialNodes.set(i,s)},a.prototype.mount=function(i,s){var l=this,c;if(s===void 0&&(s=!1),!this.instance){this.isSVG=i instanceof SVGElement&&i.tagName!=="svg",this.instance=i;var u=this.options,f=u.layoutId,h=u.layout,d=u.visualElement;if(d&&!d.getInstance()&&d.mount(i),this.root.nodes.add(this),(c=this.parent)===null||c===void 0||c.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),s&&(h||f)&&(this.isLayoutDirty=!0),t){var v,g=function(){return l.root.updateBlockedByResize=!1};t(i,function(){l.root.updateBlockedByResize=!0,clearTimeout(v),v=window.setTimeout(g,250),Ct.hasAnimatedSinceResize&&(Ct.hasAnimatedSinceResize=!1,l.nodes.forEach(zh))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&d&&(f||h)&&this.addEventListener("didUpdate",function(w){var x,S,P,b,y,C=w.delta,T=w.hasLayoutChanged,E=w.hasRelativeTargetChanged,_=w.layout;if(l.isTreeAnimationBlocked()){l.target=void 0,l.relativeTarget=void 0;return}var M=(S=(x=l.options.transition)!==null&&x!==void 0?x:d.getDefaultTransition())!==null&&S!==void 0?S:qh,O=d.getProps(),F=O.onLayoutAnimationStart,L=O.onLayoutAnimationComplete,j=!l.targetLayout||!Qs(l.targetLayout,_)||E,z=!T&&E;if(!((P=l.resumeFrom)===null||P===void 0)&&P.instance||z||T&&(j||!l.currentAnimation)){l.resumeFrom&&(l.resumingFrom=l.resumeFrom,l.resumingFrom.resumingFrom=void 0),l.setAnimationOrigin(C,z);var Q=I(I({},lo(M,"layout")),{onPlay:F,onComplete:L});d.shouldReduceMotion&&(Q.delay=0,Q.type=!1),l.startAnimation(Q)}else!T&&l.animationProgress===0&&l.finishAnimation(),l.isLead()&&((y=(b=l.options).onExitComplete)===null||y===void 0||y.call(b));l.targetLayout=_})}},a.prototype.unmount=function(){var i,s;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(i=this.getStack())===null||i===void 0||i.remove(this),(s=this.parent)===null||s===void 0||s.children.delete(this),this.instance=void 0,st.preRender(this.updateProjection)},a.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},a.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},a.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},a.prototype.isTreeAnimationBlocked=function(){var i;return this.isAnimationBlocked||((i=this.parent)===null||i===void 0?void 0:i.isTreeAnimationBlocked())||!1},a.prototype.startUpdate=function(){var i;this.isUpdateBlocked()||(this.isUpdating=!0,(i=this.nodes)===null||i===void 0||i.forEach(Gh))},a.prototype.willUpdate=function(i){var s,l,c;if(i===void 0&&(i=!0),this.root.isUpdateBlocked()){(l=(s=this.options).onExitComplete)===null||l===void 0||l.call(s);return}if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var u=0;u<this.path.length;u++){var f=this.path[u];f.shouldResetTransform=!0,f.updateScroll()}var h=this.options,d=h.layoutId,v=h.layout;if(!(d===void 0&&!v)){var g=(c=this.options.visualElement)===null||c===void 0?void 0:c.getProps().transformTemplate;this.prevTransformTemplateValue=g==null?void 0:g(this.latestValues,""),this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}}},a.prototype.didUpdate=function(){var i=this.isUpdateBlocked();if(i){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ri);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Xh),this.potentialNodes.clear()),this.nodes.forEach(Uh),this.nodes.forEach(Fh),this.nodes.forEach(Nh),this.clearAllSnapshots(),Qn.update(),Qn.preRender(),Qn.render())},a.prototype.clearAllSnapshots=function(){this.nodes.forEach(Bh),this.sharedNodes.forEach(Kh)},a.prototype.scheduleUpdateProjection=function(){Se.preRender(this.updateProjection,!1,!0)},a.prototype.scheduleCheckAfterUnmount=function(){var i=this;Se.postRender(function(){i.isLayoutDirty?i.root.didUpdate():i.root.checkUpdateFailed()})},a.prototype.updateSnapshot=function(){if(!(this.snapshot||!this.instance)){var i=this.measure(),s=this.removeTransform(this.removeElementScroll(i));Vi(s),this.snapshot={measured:i,layout:s,latestValues:{}}}},a.prototype.updateLayout=function(){var i;if(this.instance&&(this.updateScroll(),!(!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))){if(this.resumeFrom&&!this.resumeFrom.instance)for(var s=0;s<this.path.length;s++){var l=this.path[s];l.updateScroll()}var c=this.measure();Vi(c);var u=this.layout;this.layout={measured:c,actual:this.removeElementScroll(c)},this.layoutCorrected=se(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(i=this.options.visualElement)===null||i===void 0||i.notifyLayoutMeasure(this.layout.actual,u==null?void 0:u.actual)}},a.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=r(this.instance))},a.prototype.resetTransform=function(){var i;if(o){var s=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Js(this.projectionDelta),c=(i=this.options.visualElement)===null||i===void 0?void 0:i.getProps().transformTemplate,u=c==null?void 0:c(this.latestValues,""),f=u!==this.prevTransformTemplateValue;s&&(l||Oe(this.latestValues)||f)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}},a.prototype.measure=function(){var i=this.options.visualElement;if(!i)return se();var s=i.measureViewportBox(),l=this.root.scroll;return l&&(rt(s.x,l.x),rt(s.y,l.y)),s},a.prototype.removeElementScroll=function(i){var s=se();ye(s,i);for(var l=0;l<this.path.length;l++){var c=this.path[l],u=c.scroll,f=c.options;c!==this.root&&u&&f.layoutScroll&&(rt(s.x,u.x),rt(s.y,u.y))}return s},a.prototype.applyTransform=function(i,s){s===void 0&&(s=!1);var l=se();ye(l,i);for(var c=0;c<this.path.length;c++){var u=this.path[c];!s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ot(l,{x:-u.scroll.x,y:-u.scroll.y}),Oe(u.latestValues)&&ot(l,u.latestValues)}return Oe(this.latestValues)&&ot(l,this.latestValues),l},a.prototype.removeTransform=function(i){var s,l=se();ye(l,i);for(var c=0;c<this.path.length;c++){var u=this.path[c];if(u.instance&&Oe(u.latestValues)){Xs(u.latestValues)&&u.updateSnapshot();var f=se(),h=u.measure();ye(f,h),wi(l,u.latestValues,(s=u.snapshot)===null||s===void 0?void 0:s.layout,f)}}return Oe(this.latestValues)&&wi(l,this.latestValues),l},a.prototype.setTargetDelta=function(i){this.targetDelta=i,this.root.scheduleUpdateProjection()},a.prototype.setOptions=function(i){var s;this.options=I(I(I({},this.options),i),{crossfade:(s=i.crossfade)!==null&&s!==void 0?s:!0})},a.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},a.prototype.resolveTargetDelta=function(){var i,s=this.options,l=s.layout,c=s.layoutId;!this.layout||!(l||c)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=se(),this.relativeTargetOrigin=se(),St(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),ye(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=se(),this.targetWithTransforms=se()),this.relativeTarget&&this.relativeTargetOrigin&&(!((i=this.relativeParent)===null||i===void 0)&&i.target)?Eh(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):ye(this.target,this.layout.actual),Zs(this.target,this.targetDelta)):ye(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=se(),this.relativeTargetOrigin=se(),St(this.relativeTargetOrigin,this.target,this.relativeParent.target),ye(this.relativeTarget,this.relativeTargetOrigin)))))},a.prototype.getClosestProjectingParent=function(){if(!(!this.parent||Oe(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},a.prototype.calcProjection=function(){var i,s=this.options,l=s.layout,c=s.layoutId;if(this.isTreeAnimating=Boolean(((i=this.parent)===null||i===void 0?void 0:i.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!(!this.layout||!(l||c))){var u=this.getLead();ye(this.layoutCorrected,this.layout.actual),Ph(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==u);var f=u.target;if(f){this.projectionDelta||(this.projectionDelta=Pt(),this.projectionDeltaWithTransform=Pt());var h=this.treeScale.x,d=this.treeScale.y,v=this.projectionTransform;xt(this.projectionDelta,this.layoutCorrected,f,this.latestValues),this.projectionTransform=Ii(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==d)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}}},a.prototype.hide=function(){this.isVisible=!1},a.prototype.show=function(){this.isVisible=!0},a.prototype.scheduleRender=function(i){var s,l,c;i===void 0&&(i=!0),(l=(s=this.options).scheduleRender)===null||l===void 0||l.call(s),i&&((c=this.getStack())===null||c===void 0||c.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},a.prototype.setAnimationOrigin=function(i,s){var l=this,c;s===void 0&&(s=!1);var u=this.snapshot,f=(u==null?void 0:u.latestValues)||{},h=I({},this.latestValues),d=Pt();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!s;var v=se(),g=u==null?void 0:u.isShared,w=(((c=this.getStack())===null||c===void 0?void 0:c.members.length)||0)<=1,x=Boolean(g&&!w&&this.options.crossfade===!0&&!this.path.some($h));this.animationProgress=0,this.mixTargetDelta=function(S){var P,b=S/1e3;Di(d.x,i.x,b),Di(d.y,i.y,b),l.setTargetDelta(d),l.relativeTarget&&l.relativeTargetOrigin&&l.layout&&(!((P=l.relativeParent)===null||P===void 0)&&P.layout)&&(St(v,l.layout.actual,l.relativeParent.layout.actual),Yh(l.relativeTarget,l.relativeTargetOrigin,v,b)),g&&(l.animationValues=h,bh(h,f,l.latestValues,b,x,w)),l.root.scheduleUpdateProjection(),l.scheduleRender(),l.animationProgress=b},this.mixTargetDelta(0)},a.prototype.startAnimation=function(i){var s=this,l,c;this.notifyListeners("animationStart"),(l=this.currentAnimation)===null||l===void 0||l.stop(),this.resumingFrom&&((c=this.resumingFrom.currentAnimation)===null||c===void 0||c.stop()),this.pendingAnimation&&(st.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Se.update(function(){Ct.hasAnimatedSinceResize=!0,s.currentAnimation=gh(0,Mi,I(I({},i),{onUpdate:function(u){var f;s.mixTargetDelta(u),(f=i.onUpdate)===null||f===void 0||f.call(i,u)},onComplete:function(){var u;(u=i.onComplete)===null||u===void 0||u.call(i),s.completeAnimation()}})),s.resumingFrom&&(s.resumingFrom.currentAnimation=s.currentAnimation),s.pendingAnimation=void 0})},a.prototype.completeAnimation=function(){var i;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(i=this.getStack())===null||i===void 0||i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},a.prototype.finishAnimation=function(){var i;this.currentAnimation&&((i=this.mixTargetDelta)===null||i===void 0||i.call(this,Mi),this.currentAnimation.stop()),this.completeAnimation()},a.prototype.applyTransformsToTarget=function(){var i=this.getLead(),s=i.targetWithTransforms,l=i.target,c=i.layout,u=i.latestValues;!s||!l||!c||(ye(s,l),ot(s,u),xt(this.projectionDeltaWithTransform,this.layoutCorrected,s,u))},a.prototype.registerSharedNode=function(i,s){var l,c,u;this.sharedNodes.has(i)||this.sharedNodes.set(i,new Mh);var f=this.sharedNodes.get(i);f.add(s),s.promote({transition:(l=s.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(u=(c=s.options.initialPromotionConfig)===null||c===void 0?void 0:c.shouldPreserveFollowOpacity)===null||u===void 0?void 0:u.call(c,s)})},a.prototype.isLead=function(){var i=this.getStack();return i?i.lead===this:!0},a.prototype.getLead=function(){var i,s=this.options.layoutId;return s?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this},a.prototype.getPrevLead=function(){var i,s=this.options.layoutId;return s?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0},a.prototype.getStack=function(){var i=this.options.layoutId;if(i)return this.root.sharedNodes.get(i)},a.prototype.promote=function(i){var s=i===void 0?{}:i,l=s.needsReset,c=s.transition,u=s.preserveFollowOpacity,f=this.getStack();f&&f.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})},a.prototype.relegate=function(){var i=this.getStack();return i?i.relegate(this):!1},a.prototype.resetRotation=function(){var i=this.options.visualElement;if(i){for(var s=!1,l={},c=0;c<Mr.length;c++){var u=Mr[c],f="rotate"+u;i.getStaticValue(f)&&(s=!0,l[f]=i.getStaticValue(f),i.setStaticValue(f,0))}if(s){i==null||i.syncRender();for(var f in l)i.setStaticValue(f,l[f]);i.scheduleRender()}}},a.prototype.getProjectionStyles=function(i){var s,l,c,u,f,h;i===void 0&&(i={});var d={};if(!this.instance||this.isSVG)return d;if(this.isVisible)d.visibility="";else return{visibility:"hidden"};var v=(s=this.options.visualElement)===null||s===void 0?void 0:s.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=on(i.pointerEvents)||"",d.transform=v?v(this.latestValues,""):"none",d;var g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){var w={};return this.options.layoutId&&(w.opacity=(l=this.latestValues.opacity)!==null&&l!==void 0?l:1,w.pointerEvents=on(i.pointerEvents)||""),this.hasProjected&&!Oe(this.latestValues)&&(w.transform=v?v({},""):"none",this.hasProjected=!1),w}var x=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=Ii(this.projectionDeltaWithTransform,this.treeScale,x),v&&(d.transform=v(x,d.transform));var S=this.projectionDelta,P=S.x,b=S.y;d.transformOrigin="".concat(P.origin*100,"% ").concat(b.origin*100,"% 0"),g.animationValues?d.opacity=g===this?(u=(c=x.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:d.opacity=g===this?(f=x.opacity)!==null&&f!==void 0?f:"":(h=x.opacityExit)!==null&&h!==void 0?h:0;for(var y in vn)if(x[y]!==void 0){var C=vn[y],T=C.correct,E=C.applyTo,_=T(x[y],g);if(E)for(var M=E.length,O=0;O<M;O++)d[E[O]]=_;else d[y]=_}return this.options.layoutId&&(d.pointerEvents=g===this?on(i.pointerEvents)||"":"none"),d},a.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},a.prototype.resetTree=function(){this.root.nodes.forEach(function(i){var s;return(s=i.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(Ri),this.root.sharedNodes.clear()},a}()}function Fh(e){e.updateLayout()}function Nh(e){var t,n,r,o,a=(n=(t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)!==null&&n!==void 0?n:e.snapshot;if(e.isLead()&&e.layout&&a&&e.hasListeners("didUpdate")){var i=e.layout,s=i.actual,l=i.measured;e.options.animationType==="size"?be(function(S){var P=a.isShared?a.measured[S]:a.layout[S],b=Me(P);P.min=s[S].min,P.max=P.min+b}):e.options.animationType==="position"&&be(function(S){var P=a.isShared?a.measured[S]:a.layout[S],b=Me(s[S]);P.max=P.min+b});var c=Pt();xt(c,s,a.layout);var u=Pt();a.isShared?xt(u,e.applyTransform(l,!0),a.measured):xt(u,s,a.layout);var f=!Js(c),h=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var d=e.relativeParent,v=d.snapshot,g=d.layout;if(v&&g){var w=se();St(w,a.layout,v.layout);var x=se();St(x,s,g.actual),Qs(w,x)||(h=!0)}}e.notifyListeners("didUpdate",{layout:s,snapshot:a,delta:u,layoutDelta:c,hasLayoutChanged:f,hasRelativeTargetChanged:h})}else e.isLead()&&((o=(r=e.options).onExitComplete)===null||o===void 0||o.call(r));e.options.transition=void 0}function Bh(e){e.clearSnapshot()}function Ri(e){e.clearMeasurements()}function Uh(e){var t=e.options.visualElement;t!=null&&t.getProps().onBeforeLayoutMeasure&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function zh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function Wh(e){e.resolveTargetDelta()}function Hh(e){e.calcProjection()}function Gh(e){e.resetRotation()}function Kh(e){e.removeLeadSnapshot()}function Di(e,t,n){e.translate=Y(t.translate,0,n),e.scale=Y(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ai(e,t,n,r){e.min=Y(t.min,n.min,r),e.max=Y(t.max,n.max,r)}function Yh(e,t,n,r){Ai(e.x,t.x,n.x,r),Ai(e.y,t.y,n.y,r)}function $h(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var qh={duration:.45,ease:[.4,0,.1,1]};function Xh(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var o=n&&n!==e.root?n.instance:document,a=o.querySelector('[data-projection-id="'.concat(t,'"]'));a&&e.mount(a,!0)}function Oi(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function Vi(e){Oi(e.x),Oi(e.y)}var Zh=1;function Jh(){return An(function(){if(Ct.hasEverUpdated)return Zh++})}var nl=m.createContext({}),rl=m.createContext({});function Qh(e,t,n,r){var o,a=t.layoutId,i=t.layout,s=t.drag,l=t.dragConstraints,c=t.layoutScroll,u=m.useContext(rl);!r||!n||n!=null&&n.projection||(n.projection=new r(e,n.getLatestValues(),(o=n.parent)===null||o===void 0?void 0:o.projection),n.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:Boolean(s)||l&&nt(l),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:typeof i=="string"?i:"both",initialPromotionConfig:u,layoutScroll:c}))}var em=function(e){ja(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var n=this.props,r=n.visualElement,o=n.props;r&&r.setProps(o)},t.prototype.render=function(){return this.props.children},t}(Ee.Component);function tm(e){var t=e.preloadedFeatures,n=e.createVisualElement,r=e.projectionNodeConstructor,o=e.useRender,a=e.useVisualState,i=e.Component;t&&Af(t);function s(l,c){var u=nm(l);l=I(I({},l),{layoutId:u});var f=m.useContext(Xr),h=null,d=Hf(l),v=f.isStatic?void 0:Jh(),g=a(l,f.isStatic);return!f.isStatic&&kt&&(d.visualElement=Nf(i,g,I(I({},f),l),n),Qh(v,l,d.visualElement,r||Tt.projectionNodeConstructor),h=Vf(l,d.visualElement)),m.createElement(em,{visualElement:d.visualElement,props:I(I({},f),l)},h,m.createElement(In.Provider,{value:d},o(i,l,v,Bf(g,d.visualElement,c),g,f.isStatic,d.visualElement)))}return m.forwardRef(s)}function nm(e){var t,n=e.layoutId,r=(t=m.useContext(nl))===null||t===void 0?void 0:t.id;return r&&n!==void 0?r+"-"+n:n}function rm(e){function t(r,o){return o===void 0&&(o={}),tm(e(r,o))}if(typeof Proxy>"u")return t;var n=new Map;return new Proxy(t,{get:function(r,o){return n.has(o)||n.set(o,t(o)),n.get(o)}})}var om=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function uo(e){return typeof e!="string"||e.includes("-")?!1:!!(om.indexOf(e)>-1||/[A-Z]/.test(e))}function ol(e,t){var n=t.layout,r=t.layoutId;return Ut(e)||el(e)||(n||r!==void 0)&&(!!vn[e]||e==="opacity")}var im={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function am(e,t,n,r){var o=e.transform,a=e.transformKeys,i=t.enableHardwareAcceleration,s=i===void 0?!0:i,l=t.allowTransformNone,c=l===void 0?!0:l,u="";a.sort(Oh);for(var f=!1,h=a.length,d=0;d<h;d++){var v=a[d];u+="".concat(im[v]||v,"(").concat(o[v],") "),v==="z"&&(f=!0)}return!f&&s?u+="translateZ(0)":u=u.trim(),r?u=r(o,n?"":u):c&&n&&(u="none"),u}function sm(e){var t=e.originX,n=t===void 0?"50%":t,r=e.originY,o=r===void 0?"50%":r,a=e.originZ,i=a===void 0?0:a;return"".concat(n," ").concat(o," ").concat(i)}function il(e){return e.startsWith("--")}var lm=function(e,t){return t&&typeof e=="number"?t.transform(e):e};function fo(e,t,n,r){var o,a=e.style,i=e.vars,s=e.transform,l=e.transformKeys,c=e.transformOrigin;l.length=0;var u=!1,f=!1,h=!0;for(var d in t){var v=t[d];if(il(d)){i[d]=v;continue}var g=Ks[d],w=lm(v,g);if(Ut(d)){if(u=!0,s[d]=w,l.push(d),!h)continue;v!==((o=g.default)!==null&&o!==void 0?o:0)&&(h=!1)}else el(d)?(c[d]=w,f=!0):a[d]=w}u?a.transform=am(e,n,h,r):r?a.transform=r({},""):!t.transform&&a.transform&&(a.transform="none"),f&&(a.transformOrigin=sm(c))}var po=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function al(e,t,n){for(var r in t)!Ie(t[r])&&!ol(r,n)&&(e[r]=t[r])}function cm(e,t,n){var r=e.transformTemplate;return m.useMemo(function(){var o=po();fo(o,t,{enableHardwareAcceleration:!n},r);var a=o.vars,i=o.style;return I(I({},a),i)},[t])}function um(e,t,n){var r=e.style||{},o={};return al(o,r,e),Object.assign(o,cm(e,t,n)),e.transformValues&&(o=e.transformValues(o)),o}function dm(e,t,n){var r={},o=um(e,t,n);return Boolean(e.drag)&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":"pan-".concat(e.drag==="x"?"y":"x")),r.style=o,r}var fm=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function gn(e){return fm.has(e)}var sl=function(e){return!gn(e)};function pm(e){e&&(sl=function(t){return t.startsWith("on")?!gn(t):e(t)})}try{pm(require("@emotion/is-prop-valid").default)}catch{}function hm(e,t,n){var r={};for(var o in e)(sl(o)||n===!0&&gn(o)||!t&&!gn(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function Li(e,t,n){return typeof e=="string"?e:V.transform(t+n*e)}function mm(e,t,n){var r=Li(t,e.x,e.width),o=Li(n,e.y,e.height);return"".concat(r," ").concat(o)}var vm={offset:"stroke-dashoffset",array:"stroke-dasharray"},gm={offset:"strokeDashoffset",array:"strokeDasharray"};function ym(e,t,n,r,o){n===void 0&&(n=1),r===void 0&&(r=0),o===void 0&&(o=!0),e.pathLength=1;var a=o?vm:gm;e[a.offset]=V.transform(-r);var i=V.transform(t),s=V.transform(n);e[a.array]="".concat(i," ").concat(s)}function ho(e,t,n,r){var o=t.attrX,a=t.attrY,i=t.originX,s=t.originY,l=t.pathLength,c=t.pathSpacing,u=c===void 0?1:c,f=t.pathOffset,h=f===void 0?0:f,d=he(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);fo(e,d,n,r),e.attrs=e.style,e.style={};var v=e.attrs,g=e.style,w=e.dimensions;v.transform&&(w&&(g.transform=v.transform),delete v.transform),w&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=mm(w,i!==void 0?i:.5,s!==void 0?s:.5)),o!==void 0&&(v.x=o),a!==void 0&&(v.y=a),l!==void 0&&ym(v,l,u,h,!1)}var ll=function(){return I(I({},po()),{attrs:{}})};function bm(e,t){var n=m.useMemo(function(){var o=ll();return ho(o,t,{enableHardwareAcceleration:!1},e.transformTemplate),I(I({},o.attrs),{style:I({},o.style)})},[t]);if(e.style){var r={};al(r,e.style,e),n.style=I(I({},r),n.style)}return n}function xm(e){e===void 0&&(e=!1);var t=function(n,r,o,a,i,s){var l=i.latestValues,c=uo(n)?bm:dm,u=c(r,l,s),f=hm(r,typeof n=="string",e),h=I(I(I({},f),u),{ref:a});return o&&(h["data-projection-id"]=o),m.createElement(n,h)};return t}var Sm=/([a-z])([A-Z])/g,Pm="$1-$2",cl=function(e){return e.replace(Sm,Pm).toLowerCase()};function ul(e,t,n,r){var o=t.style,a=t.vars;Object.assign(e.style,o,r&&r.getProjectionStyles(n));for(var i in a)e.style.setProperty(i,a[i])}var dl=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function fl(e,t){ul(e,t);for(var n in t.attrs)e.setAttribute(dl.has(n)?n:cl(n),t.attrs[n])}function mo(e){var t=e.style,n={};for(var r in t)(Ie(t[r])||ol(r,e))&&(n[r]=t[r]);return n}function pl(e){var t=mo(e);for(var n in e)if(Ie(e[n])){var r=n==="x"||n==="y"?"attr"+n.toUpperCase():n;t[r]=e[n]}return t}function vo(e){return typeof e=="object"&&typeof e.start=="function"}function ji(e,t,n,r){var o=e.scrapeMotionValuesFromProps,a=e.createRenderState,i=e.onMount,s={latestValues:Cm(t,n,r,o),renderState:a()};return i&&(s.mount=function(l){return i(t,l,s)}),s}var hl=function(e){return function(t,n){var r=m.useContext(In),o=m.useContext(Mn);return n?ji(e,t,r,o):An(function(){return ji(e,t,r,o)})}};function Cm(e,t,n,r){var o={},a=(n==null?void 0:n.initial)===!1,i=r(e);for(var s in i)o[s]=on(i[s]);var l=e.initial,c=e.animate,u=Dn(e),f=ys(e);t&&f&&!u&&e.inherit!==!1&&(l??(l=t.initial),c??(c=t.animate));var h=a||l===!1,d=h?c:l;if(d&&typeof d!="boolean"&&!vo(d)){var v=Array.isArray(d)?d:[d];v.forEach(function(g){var w=gs(e,g);if(w){var x=w.transitionEnd;w.transition;var S=he(w,["transitionEnd","transition"]);for(var P in S){var b=S[P];if(Array.isArray(b)){var y=h?b.length-1:0;b=b[y]}b!==null&&(o[P]=b)}for(var P in x)o[P]=x[P]}})}return o}var wm={useVisualState:hl({scrapeMotionValuesFromProps:pl,createRenderState:ll,onMount:function(e,t,n){var r=n.renderState,o=n.latestValues;try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}ho(r,o,{enableHardwareAcceleration:!1},e.transformTemplate),fl(t,r)}})},Em={useVisualState:hl({scrapeMotionValuesFromProps:mo,createRenderState:po})};function Tm(e,t,n,r,o){var a=t.forwardMotionProps,i=a===void 0?!1:a,s=uo(e)?wm:Em;return I(I({},s),{preloadedFeatures:n,useRender:xm(i),createVisualElement:r,projectionNodeConstructor:o,Component:e})}var G;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"})(G||(G={}));function go(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function Rr(e,t,n,r){m.useEffect(function(){var o=e.current;if(n&&o)return go(o,t,n,r)},[e,t,n,r])}function _m(e){var t=e.whileFocus,n=e.visualElement,r=function(){var a;(a=n.animationState)===null||a===void 0||a.setActive(G.Focus,!0)},o=function(){var a;(a=n.animationState)===null||a===void 0||a.setActive(G.Focus,!1)};Rr(n,"focus",t?r:void 0),Rr(n,"blur",t?o:void 0)}function ml(e){return typeof PointerEvent<"u"&&e instanceof PointerEvent?e.pointerType==="mouse":e instanceof MouseEvent}function vl(e){var t=!!e.touches;return t}function Im(e){return function(t){var n=t instanceof MouseEvent,r=!n||n&&t.button===0;r&&e(t)}}var Mm={pageX:0,pageY:0};function Rm(e,t){t===void 0&&(t="page");var n=e.touches[0]||e.changedTouches[0],r=n||Mm;return{x:r[t+"X"],y:r[t+"Y"]}}function Dm(e,t){return t===void 0&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function yo(e,t){return t===void 0&&(t="page"),{point:vl(e)?Rm(e,t):Dm(e,t)}}var gl=function(e,t){t===void 0&&(t=!1);var n=function(r){return e(r,yo(r))};return t?Im(n):n},Am=function(){return kt&&window.onpointerdown===null},Om=function(){return kt&&window.ontouchstart===null},Vm=function(){return kt&&window.onmousedown===null},Lm={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},jm={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function yl(e){return Am()?e:Om()?jm[e]:Vm()?Lm[e]:e}function at(e,t,n,r){return go(e,yl(t),gl(n,t==="pointerdown"),r)}function yn(e,t,n,r){return Rr(e,yl(t),n&&gl(n,t==="pointerdown"),r)}function bl(e){var t=null;return function(){var n=function(){t=null};return t===null?(t=e,n):!1}}var ki=bl("dragHorizontal"),Fi=bl("dragVertical");function xl(e){var t=!1;if(e==="y")t=Fi();else if(e==="x")t=ki();else{var n=ki(),r=Fi();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function Sl(){var e=xl(!0);return e?(e(),!1):!0}function Ni(e,t,n){return function(r,o){var a;!ml(r)||Sl()||((a=e.animationState)===null||a===void 0||a.setActive(G.Hover,t),n==null||n(r,o))}}function km(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,o=e.visualElement;yn(o,"pointerenter",t||r?Ni(o,!0,t):void 0),yn(o,"pointerleave",n||r?Ni(o,!1,n):void 0)}var Pl=function(e,t){return t?e===t?!0:Pl(e,t.parentElement):!1};function Cl(e){return m.useEffect(function(){return function(){return e()}},[])}function Fm(e){var t=e.onTap,n=e.onTapStart,r=e.onTapCancel,o=e.whileTap,a=e.visualElement,i=t||n||r||o,s=m.useRef(!1),l=m.useRef(null);function c(){var v;(v=l.current)===null||v===void 0||v.call(l),l.current=null}function u(){var v;return c(),s.current=!1,(v=a.animationState)===null||v===void 0||v.setActive(G.Tap,!1),!Sl()}function f(v,g){u()&&(Pl(a.getInstance(),v.target)?t==null||t(v,g):r==null||r(v,g))}function h(v,g){u()&&(r==null||r(v,g))}function d(v,g){var w;c(),!s.current&&(s.current=!0,l.current=Vn(at(window,"pointerup",f),at(window,"pointercancel",h)),(w=a.animationState)===null||w===void 0||w.setActive(G.Tap,!0),n==null||n(v,g))}yn(a,"pointerdown",i?d:void 0),Cl(c)}var Dr=new WeakMap,ir=new WeakMap,Nm=function(e){var t;(t=Dr.get(e.target))===null||t===void 0||t(e)},Bm=function(e){e.forEach(Nm)};function Um(e){var t=e.root,n=he(e,["root"]),r=t||document;ir.has(r)||ir.set(r,{});var o=ir.get(r),a=JSON.stringify(n);return o[a]||(o[a]=new IntersectionObserver(Bm,I({root:t},n))),o[a]}function zm(e,t,n){var r=Um(t);return Dr.set(e,n),r.observe(e),function(){Dr.delete(e),r.unobserve(e)}}function Wm(e){var t=e.visualElement,n=e.whileInView,r=e.onViewportEnter,o=e.onViewportLeave,a=e.viewport,i=a===void 0?{}:a,s=m.useRef({hasEnteredView:!1,isInView:!1}),l=Boolean(n||r||o);i.once&&s.current.hasEnteredView&&(l=!1);var c=typeof IntersectionObserver>"u"?Km:Gm;c(l,s.current,t,i)}var Hm={some:0,all:1};function Gm(e,t,n,r){var o=r.root,a=r.margin,i=r.amount,s=i===void 0?"some":i,l=r.once;m.useEffect(function(){if(e){var c={root:o==null?void 0:o.current,rootMargin:a,threshold:typeof s=="number"?s:Hm[s]},u=function(f){var h,d=f.isIntersecting;if(t.isInView!==d&&(t.isInView=d,!(l&&!d&&t.hasEnteredView))){d&&(t.hasEnteredView=!0),(h=n.animationState)===null||h===void 0||h.setActive(G.InView,d);var v=n.getProps(),g=d?v.onViewportEnter:v.onViewportLeave;g==null||g(f)}};return zm(n.getInstance(),c,u)}},[e,o,a,s])}function Km(e,t,n,r){var o=r.fallback,a=o===void 0?!0:o;m.useEffect(function(){!e||!a||requestAnimationFrame(function(){var i;t.hasEnteredView=!0;var s=n.getProps().onViewportEnter;s==null||s(null),(i=n.animationState)===null||i===void 0||i.setActive(G.InView,!0)})},[e])}var Ne=function(e){return function(t){return e(t),null}},Ym={inView:Ne(Wm),tap:Ne(Fm),focus:Ne(_m),hover:Ne(km)},$m=0,qm=function(){return $m++},Xm=function(){return An(qm)};function wl(){var e=m.useContext(Mn);if(e===null)return[!0,null];var t=e.isPresent,n=e.onExitComplete,r=e.register,o=Xm();m.useEffect(function(){return r(o)},[]);var a=function(){return n==null?void 0:n(o)};return!t&&n?[!1,a]:[!0]}function El(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var Zm=function(e){return/^\-?\d*\.?\d+$/.test(e)},Jm=function(e){return/^0[^.\s]+$/.test(e)},Tl=function(e){return function(t){return t.test(e)}},Qm={test:function(e){return e==="auto"},parse:function(e){return e}},_l=[Ye,V,Pe,Ae,sp,ap,Qm],mt=function(e){return _l.find(Tl(e))},ev=xe(xe([],X(_l),!1),[de,_e],!1),tv=function(e){return ev.find(Tl(e))};function nv(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,lt(n))}function rv(e,t){var n=Rn(e,t),r=n?e.makeTargetAnimatable(n,!1):{},o=r.transitionEnd,a=o===void 0?{}:o;r.transition;var i=he(r,["transitionEnd","transition"]);i=I(I({},i),a);for(var s in i){var l=Ys(i[s]);nv(e,s,l)}}function ov(e,t,n){var r,o,a,i,s=Object.keys(t).filter(function(d){return!e.hasValue(d)}),l=s.length;if(l)for(var c=0;c<l;c++){var u=s[c],f=t[u],h=null;Array.isArray(f)&&(h=f[0]),h===null&&(h=(o=(r=n[u])!==null&&r!==void 0?r:e.readValue(u))!==null&&o!==void 0?o:t[u]),h!=null&&(typeof h=="string"&&(Zm(h)||Jm(h))?h=parseFloat(h):!tv(h)&&_e.test(f)&&(h=so(u,f)),e.addValue(u,lt(h)),(a=(i=n)[u])!==null&&a!==void 0||(i[u]=h),e.setBaseTarget(u,h))}}function iv(e,t){if(t){var n=t[e]||t.default||t;return n.from}}function av(e,t,n){var r,o,a={};for(var i in e)a[i]=(r=iv(i,t))!==null&&r!==void 0?r:(o=n.getValue(i))===null||o===void 0?void 0:o.get();return a}function sv(e,t,n){n===void 0&&(n={}),e.notifyAnimationStart(t);var r;if(Array.isArray(t)){var o=t.map(function(i){return Ar(e,i,n)});r=Promise.all(o)}else if(typeof t=="string")r=Ar(e,t,n);else{var a=typeof t=="function"?Rn(e,t,n.custom):t;r=Il(e,a,n)}return r.then(function(){return e.notifyAnimationComplete(t)})}function Ar(e,t,n){var r;n===void 0&&(n={});var o=Rn(e,t,n.custom),a=(o||{}).transition,i=a===void 0?e.getDefaultTransition()||{}:a;n.transitionOverride&&(i=n.transitionOverride);var s=o?function(){return Il(e,o,n)}:function(){return Promise.resolve()},l=!((r=e.variantChildren)===null||r===void 0)&&r.size?function(d){d===void 0&&(d=0);var v=i.delayChildren,g=v===void 0?0:v,w=i.staggerChildren,x=i.staggerDirection;return lv(e,t,g+d,w,x,n)}:function(){return Promise.resolve()},c=i.when;if(c){var u=X(c==="beforeChildren"?[s,l]:[l,s],2),f=u[0],h=u[1];return f().then(h)}else return Promise.all([s(),l(n.delay)])}function Il(e,t,n){var r,o=n===void 0?{}:n,a=o.delay,i=a===void 0?0:a,s=o.transitionOverride,l=o.type,c=e.makeTargetAnimatable(t),u=c.transition,f=u===void 0?e.getDefaultTransition():u,h=c.transitionEnd,d=he(c,["transition","transitionEnd"]);s&&(f=s);var v=[],g=l&&((r=e.animationState)===null||r===void 0?void 0:r.getState()[l]);for(var w in d){var x=e.getValue(w),S=d[w];if(!(!x||S===void 0||g&&uv(g,w))){var P=I({delay:i},f);e.shouldReduceMotion&&Ut(w)&&(P=I(I({},P),{type:!1,delay:0}));var b=co(w,x,S,P);v.push(b)}}return Promise.all(v).then(function(){h&&rv(e,h)})}function lv(e,t,n,r,o,a){n===void 0&&(n=0),r===void 0&&(r=0),o===void 0&&(o=1);var i=[],s=(e.variantChildren.size-1)*r,l=o===1?function(c){return c===void 0&&(c=0),c*r}:function(c){return c===void 0&&(c=0),s-c*r};return Array.from(e.variantChildren).sort(cv).forEach(function(c,u){i.push(Ar(c,t,I(I({},a),{delay:n+l(u)})).then(function(){return c.notifyAnimationComplete(t)}))}),Promise.all(i)}function cv(e,t){return e.sortNodePosition(t)}function uv(e,t){var n=e.protectedKeys,r=e.needsAnimating,o=n.hasOwnProperty(t)&&r[t]!==!0;return r[t]=!1,o}var bo=[G.Animate,G.InView,G.Focus,G.Hover,G.Tap,G.Drag,G.Exit],dv=xe([],X(bo),!1).reverse(),fv=bo.length;function pv(e){return function(t){return Promise.all(t.map(function(n){var r=n.animation,o=n.options;return sv(e,r,o)}))}}function hv(e){var t=pv(e),n=vv(),r={},o=!0,a=function(u,f){var h=Rn(e,f);if(h){h.transition;var d=h.transitionEnd,v=he(h,["transition","transitionEnd"]);u=I(I(I({},u),v),d)}return u};function i(u){return r[u]!==void 0}function s(u){t=u(e)}function l(u,f){for(var h,d=e.getProps(),v=e.getVariantContext(!0)||{},g=[],w=new Set,x={},S=1/0,P=function(T){var E=dv[T],_=n[E],M=(h=d[E])!==null&&h!==void 0?h:v[E],O=ge(M),F=E===f?_.isActive:null;F===!1&&(S=T);var L=M===v[E]&&M!==d[E]&&O;if(L&&o&&e.manuallyAnimateOnMount&&(L=!1),_.protectedKeys=I({},x),!_.isActive&&F===null||!M&&!_.prevProp||vo(M)||typeof M=="boolean")return"continue";var j=mv(_.prevProp,M),z=j||E===f&&_.isActive&&!L&&O||T>S&&O,Q=Array.isArray(M)?M:[M],ee=Q.reduce(a,{});F===!1&&(ee={});var ce=_.prevResolvedValues,K=ce===void 0?{}:ce,fe=I(I({},K),ee),Re=function(D){z=!0,w.delete(D),_.needsAnimating[D]=!0};for(var te in fe){var B=ee[te],R=K[te];x.hasOwnProperty(te)||(B!==R?Rt(B)&&Rt(R)?!El(B,R)||j?Re(te):_.protectedKeys[te]=!0:B!==void 0?Re(te):w.add(te):B!==void 0&&w.has(te)?Re(te):_.protectedKeys[te]=!0)}_.prevProp=M,_.prevResolvedValues=ee,_.isActive&&(x=I(I({},x),ee)),o&&e.blockInitialAnimation&&(z=!1),z&&!L&&g.push.apply(g,xe([],X(Q.map(function(D){return{animation:D,options:I({type:E},u)}})),!1))},b=0;b<fv;b++)P(b);if(r=I({},x),w.size){var y={};w.forEach(function(T){var E=e.getBaseTarget(T);E!==void 0&&(y[T]=E)}),g.push({animation:y})}var C=Boolean(g.length);return o&&d.initial===!1&&!e.manuallyAnimateOnMount&&(C=!1),o=!1,C?t(g):Promise.resolve()}function c(u,f,h){var d;if(n[u].isActive===f)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(function(w){var x;return(x=w.animationState)===null||x===void 0?void 0:x.setActive(u,f)}),n[u].isActive=f;var v=l(h,u);for(var g in n)n[g].protectedKeys={};return v}return{isAnimated:i,animateChanges:l,setActive:c,setAnimateFunction:s,getState:function(){return n}}}function mv(e,t){return typeof t=="string"?t!==e:vs(t)?!El(t,e):!1}function We(e){return e===void 0&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vv(){var e;return e={},e[G.Animate]=We(!0),e[G.InView]=We(),e[G.Hover]=We(),e[G.Tap]=We(),e[G.Drag]=We(),e[G.Focus]=We(),e[G.Exit]=We(),e}var gv={animation:Ne(function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=hv(t)),vo(n)&&m.useEffect(function(){return n.subscribe(t)},[n])}),exit:Ne(function(e){var t=e.custom,n=e.visualElement,r=X(wl(),2),o=r[0],a=r[1],i=m.useContext(Mn);m.useEffect(function(){var s,l;n.isPresent=o;var c=(s=n.animationState)===null||s===void 0?void 0:s.setActive(G.Exit,!o,{custom:(l=i==null?void 0:i.custom)!==null&&l!==void 0?l:t});!o&&(c==null||c.then(a))},[o])})},Ml=function(){function e(t,n,r){var o=this,a=r===void 0?{}:r,i=a.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(o.lastMoveEvent&&o.lastMoveEventInfo){var h=sr(o.lastMoveEventInfo,o.history),d=o.startEvent!==null,v=Us(h.offset,{x:0,y:0})>=3;if(!(!d&&!v)){var g=h.point,w=un().timestamp;o.history.push(I(I({},g),{timestamp:w}));var x=o.handlers,S=x.onStart,P=x.onMove;d||(S&&S(o.lastMoveEvent,h),o.startEvent=o.lastMoveEvent),P&&P(o.lastMoveEvent,h)}}},this.handlePointerMove=function(h,d){if(o.lastMoveEvent=h,o.lastMoveEventInfo=ar(d,o.transformPagePoint),ml(h)&&h.buttons===0){o.handlePointerUp(h,d);return}Se.update(o.updatePoint,!0)},this.handlePointerUp=function(h,d){o.end();var v=o.handlers,g=v.onEnd,w=v.onSessionEnd,x=sr(ar(d,o.transformPagePoint),o.history);o.startEvent&&g&&g(h,x),w&&w(h,x)},!(vl(t)&&t.touches.length>1)){this.handlers=n,this.transformPagePoint=i;var s=yo(t),l=ar(s,this.transformPagePoint),c=l.point,u=un().timestamp;this.history=[I(I({},c),{timestamp:u})];var f=n.onSessionStart;f&&f(t,sr(l,this.history)),this.removeListeners=Vn(at(window,"pointermove",this.handlePointerMove),at(window,"pointerup",this.handlePointerUp),at(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(t){this.handlers=t},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),st.update(this.updatePoint)},e}();function ar(e,t){return t?{point:t(e.point)}:e}function Bi(e,t){return{x:e.x-t.x,y:e.y-t.y}}function sr(e,t){var n=e.point;return{point:n,delta:Bi(n,Rl(t)),offset:Bi(n,yv(t)),velocity:bv(t,.1)}}function yv(e){return e[0]}function Rl(e){return e[e.length-1]}function bv(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,o=Rl(e);n>=0&&(r=e[n],!(o.timestamp-r.timestamp>hn(t)));)n--;if(!r)return{x:0,y:0};var a=(o.timestamp-r.timestamp)/1e3;if(a===0)return{x:0,y:0};var i={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function xv(e,t,n){var r=t.min,o=t.max;return r!==void 0&&e<r?e=n?Y(r,e,n.min):Math.max(e,r):o!==void 0&&e>o&&(e=n?Y(o,e,n.max):Math.min(e,o)),e}function Ui(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Sv(e,t){var n=t.top,r=t.left,o=t.bottom,a=t.right;return{x:Ui(e.x,r,a),y:Ui(e.y,n,o)}}function zi(e,t){var n,r=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&(n=X([o,r],2),r=n[0],o=n[1]),{min:r,max:o}}function Pv(e,t){return{x:zi(e.x,t.x),y:zi(e.y,t.y)}}function Cv(e,t){var n=.5,r=Me(e),o=Me(t);return o>r?n=It(t.min,t.max-r,e.min):r>o&&(n=It(e.min,e.max-o,t.min)),dn(0,1,n)}function wv(e,t){var n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}var Or=.35;function Ev(e){return e===void 0&&(e=Or),e===!1?e=0:e===!0&&(e=Or),{x:Wi(e,"left","right"),y:Wi(e,"top","bottom")}}function Wi(e,t,n){return{min:Hi(e,t),max:Hi(e,n)}}function Hi(e,t){var n;return typeof e=="number"?e:(n=e[t])!==null&&n!==void 0?n:0}function Dl(e){var t=e.top,n=e.left,r=e.right,o=e.bottom;return{x:{min:n,max:r},y:{min:t,max:o}}}function Tv(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}function _v(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Al(e,t){return Dl(_v(e.getBoundingClientRect(),t))}function Iv(e,t,n){var r=Al(e,n),o=t.scroll;return o&&(rt(r.x,o.x),rt(r.y,o.y)),r}var Mv=new WeakMap,Rv=function(){function e(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=se(),this.visualElement=t}return e.prototype.start=function(t,n){var r=this,o=n===void 0?{}:n,a=o.snapToCursor,i=a===void 0?!1:a;if(this.visualElement.isPresent!==!1){var s=function(f){r.stopAnimation(),i&&r.snapToCursor(yo(f,"page").point)},l=function(f,h){var d,v=r.getProps(),g=v.drag,w=v.dragPropagation,x=v.onDragStart;g&&!w&&(r.openGlobalLock&&r.openGlobalLock(),r.openGlobalLock=xl(g),!r.openGlobalLock)||(r.isDragging=!0,r.currentDirection=null,r.resolveConstraints(),r.visualElement.projection&&(r.visualElement.projection.isAnimationBlocked=!0,r.visualElement.projection.target=void 0),be(function(S){var P,b,y=r.getAxisMotionValue(S).get()||0;if(Pe.test(y)){var C=(b=(P=r.visualElement.projection)===null||P===void 0?void 0:P.layout)===null||b===void 0?void 0:b.actual[S];if(C){var T=Me(C);y=T*(parseFloat(y)/100)}}r.originPoint[S]=y}),x==null||x(f,h),(d=r.visualElement.animationState)===null||d===void 0||d.setActive(G.Drag,!0))},c=function(f,h){var d=r.getProps(),v=d.dragPropagation,g=d.dragDirectionLock,w=d.onDirectionLock,x=d.onDrag;if(!(!v&&!r.openGlobalLock)){var S=h.offset;if(g&&r.currentDirection===null){r.currentDirection=Dv(S),r.currentDirection!==null&&(w==null||w(r.currentDirection));return}r.updateAxis("x",h.point,S),r.updateAxis("y",h.point,S),r.visualElement.syncRender(),x==null||x(f,h)}},u=function(f,h){return r.stop(f,h)};this.panSession=new Ml(t,{onSessionStart:s,onStart:l,onMove:c,onSessionEnd:u},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},e.prototype.stop=function(t,n){var r=this.isDragging;if(this.cancel(),!!r){var o=n.velocity;this.startAnimation(o);var a=this.getProps().onDragEnd;a==null||a(t,n)}},e.prototype.cancel=function(){var t,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(t=this.panSession)===null||t===void 0||t.end(),this.panSession=void 0;var r=this.getProps().dragPropagation;!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(G.Drag,!1)},e.prototype.updateAxis=function(t,n,r){var o=this.getProps().drag;if(!(!r||!Jt(t,o,this.currentDirection))){var a=this.getAxisMotionValue(t),i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=xv(i,this.constraints[t],this.elastic[t])),a.set(i)}},e.prototype.resolveConstraints=function(){var t=this,n=this.getProps(),r=n.dragConstraints,o=n.dragElastic,a=(this.visualElement.projection||{}).layout,i=this.constraints;r&&nt(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=Sv(a.actual,r):this.constraints=!1,this.elastic=Ev(o),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&be(function(s){t.getAxisMotionValue(s)&&(t.constraints[s]=wv(a.actual[s],t.constraints[s]))})},e.prototype.resolveRefConstraints=function(){var t=this.getProps(),n=t.dragConstraints,r=t.onMeasureDragConstraints;if(!n||!nt(n))return!1;var o=n.current,a=this.visualElement.projection;if(!a||!a.layout)return!1;var i=Iv(o,a.root,this.visualElement.getTransformPagePoint()),s=Pv(a.layout.actual,i);if(r){var l=r(Tv(s));this.hasMutatedConstraints=!!l,l&&(s=Dl(l))}return s},e.prototype.startAnimation=function(t){var n=this,r=this.getProps(),o=r.drag,a=r.dragMomentum,i=r.dragElastic,s=r.dragTransition,l=r.dragSnapToOrigin,c=r.onDragTransitionEnd,u=this.constraints||{},f=be(function(h){var d;if(Jt(h,o,n.currentDirection)){var v=(d=u==null?void 0:u[h])!==null&&d!==void 0?d:{};l&&(v={min:0,max:0});var g=i?200:1e6,w=i?40:1e7,x=I(I({type:"inertia",velocity:a?t[h]:0,bounceStiffness:g,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10},s),v);return n.startAxisValueAnimation(h,x)}});return Promise.all(f).then(c)},e.prototype.startAxisValueAnimation=function(t,n){var r=this.getAxisMotionValue(t);return co(t,r,0,n)},e.prototype.stopAnimation=function(){var t=this;be(function(n){return t.getAxisMotionValue(n).stop()})},e.prototype.getAxisMotionValue=function(t){var n,r,o="_drag"+t.toUpperCase(),a=this.visualElement.getProps()[o];return a||this.visualElement.getValue(t,(r=(n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[t])!==null&&r!==void 0?r:0)},e.prototype.snapToCursor=function(t){var n=this;be(function(r){var o=n.getProps().drag;if(Jt(r,o,n.currentDirection)){var a=n.visualElement.projection,i=n.getAxisMotionValue(r);if(a&&a.layout){var s=a.layout.actual[r],l=s.min,c=s.max;i.set(t[r]-Y(l,c,.5))}}})},e.prototype.scalePositionWithinConstraints=function(){var t=this,n,r=this.getProps(),o=r.drag,a=r.dragConstraints,i=this.visualElement.projection;if(!(!nt(a)||!i||!this.constraints)){this.stopAnimation();var s={x:0,y:0};be(function(c){var u=t.getAxisMotionValue(c);if(u){var f=u.get();s[c]=Cv({min:f,max:f},t.constraints[c])}});var l=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=l?l({},""):"none",(n=i.root)===null||n===void 0||n.updateScroll(),i.updateLayout(),this.resolveConstraints(),be(function(c){if(Jt(c,o,null)){var u=t.getAxisMotionValue(c),f=t.constraints[c],h=f.min,d=f.max;u.set(Y(h,d,s[c]))}})}},e.prototype.addListeners=function(){var t=this,n;Mv.set(this.visualElement,this);var r=this.visualElement.getInstance(),o=at(r,"pointerdown",function(c){var u=t.getProps(),f=u.drag,h=u.dragListener,d=h===void 0?!0:h;f&&d&&t.start(c)}),a=function(){var c=t.getProps().dragConstraints;nt(c)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,s=i.addEventListener("measure",a);i&&!i.layout&&((n=i.root)===null||n===void 0||n.updateScroll(),i.updateLayout()),a();var l=go(window,"resize",function(){t.scalePositionWithinConstraints()});return i.addEventListener("didUpdate",function(c){var u=c.delta,f=c.hasLayoutChanged;t.isDragging&&f&&(be(function(h){var d=t.getAxisMotionValue(h);d&&(t.originPoint[h]+=u[h].translate,d.set(d.get()+u[h].translate))}),t.visualElement.syncRender())}),function(){l(),o(),s()}},e.prototype.getProps=function(){var t=this.visualElement.getProps(),n=t.drag,r=n===void 0?!1:n,o=t.dragDirectionLock,a=o===void 0?!1:o,i=t.dragPropagation,s=i===void 0?!1:i,l=t.dragConstraints,c=l===void 0?!1:l,u=t.dragElastic,f=u===void 0?Or:u,h=t.dragMomentum,d=h===void 0?!0:h;return I(I({},t),{drag:r,dragDirectionLock:a,dragPropagation:s,dragConstraints:c,dragElastic:f,dragMomentum:d})},e}();function Jt(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Dv(e,t){t===void 0&&(t=10);var n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}function Av(e){var t=e.dragControls,n=e.visualElement,r=An(function(){return new Rv(n)});m.useEffect(function(){return t&&t.subscribe(r)},[r,t]),m.useEffect(function(){return r.addListeners()},[r])}function Ov(e){var t=e.onPan,n=e.onPanStart,r=e.onPanEnd,o=e.onPanSessionStart,a=e.visualElement,i=t||n||r||o,s=m.useRef(null),l=m.useContext(Xr).transformPagePoint,c={onSessionStart:o,onStart:n,onMove:t,onEnd:function(f,h){s.current=null,r&&r(f,h)}};m.useEffect(function(){s.current!==null&&s.current.updateHandlers(c)});function u(f){s.current=new Ml(f,c,{transformPagePoint:l})}yn(a,"pointerdown",i&&u),Cl(function(){return s.current&&s.current.end()})}var Vv={pan:Ne(Ov),drag:Ne(Av)},Qt=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function Lv(){var e=Qt.map(function(){return new bt}),t={},n={clearAllListeners:function(){return e.forEach(function(r){return r.clear()})},updatePropListeners:function(r){Qt.forEach(function(o){var a,i="on"+o,s=r[i];(a=t[o])===null||a===void 0||a.call(t),s&&(t[o]=n[i](s))})}};return e.forEach(function(r,o){n["on"+Qt[o]]=function(a){return r.add(a)},n["notify"+Qt[o]]=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return r.notify.apply(r,xe([],X(a),!1))}}),n}function jv(e,t,n){var r;for(var o in t){var a=t[o],i=n[o];if(Ie(a))e.addValue(o,a);else if(Ie(i))e.addValue(o,lt(a));else if(i!==a)if(e.hasValue(o)){var s=e.getValue(o);!s.hasAnimated&&s.set(a)}else e.addValue(o,lt((r=e.getStaticValue(o))!==null&&r!==void 0?r:a))}for(var o in n)t[o]===void 0&&e.removeValue(o);return t}var Ol=function(e){var t=e.treeType,n=t===void 0?"":t,r=e.build,o=e.getBaseTarget,a=e.makeTargetAnimatable,i=e.measureViewportBox,s=e.render,l=e.readValueFromInstance,c=e.removeValueFromRenderState,u=e.sortNodePosition,f=e.scrapeMotionValuesFromProps;return function(h,d){var v=h.parent,g=h.props,w=h.presenceId,x=h.blockInitialAnimation,S=h.visualState,P=h.shouldReduceMotion;d===void 0&&(d={});var b=!1,y=S.latestValues,C=S.renderState,T,E=Lv(),_=new Map,M=new Map,O={},F=I({},y),L;function j(){!T||!b||(z(),s(T,C,g.style,B.projection))}function z(){r(B,C,y,d,g)}function Q(){E.notifyUpdate(y)}function ee(R,D){var J=D.onChange(function(qe){y[R]=qe,g.onUpdate&&Se.update(Q,!1,!0)}),me=D.onRenderRequest(B.scheduleRender);M.set(R,function(){J(),me()})}var ce=f(g);for(var K in ce){var fe=ce[K];y[K]!==void 0&&Ie(fe)&&fe.set(y[K],!1)}var Re=Dn(g),te=ys(g),B=I(I({treeType:n,current:null,depth:v?v.depth+1:0,parent:v,children:new Set,presenceId:w,shouldReduceMotion:P,variantChildren:te?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(v==null?void 0:v.isMounted()),blockInitialAnimation:x,isMounted:function(){return Boolean(T)},mount:function(R){b=!0,T=B.current=R,B.projection&&B.projection.mount(R),te&&v&&!Re&&(L=v==null?void 0:v.addVariantChild(B)),_.forEach(function(D,J){return ee(J,D)}),v==null||v.children.add(B),B.setProps(g)},unmount:function(){var R;(R=B.projection)===null||R===void 0||R.unmount(),st.update(Q),st.render(j),M.forEach(function(D){return D()}),L==null||L(),v==null||v.children.delete(B),E.clearAllListeners(),T=void 0,b=!1},addVariantChild:function(R){var D,J=B.getClosestVariantNode();if(J)return(D=J.variantChildren)===null||D===void 0||D.add(R),function(){return J.variantChildren.delete(R)}},sortNodePosition:function(R){return!u||n!==R.treeType?0:u(B.getInstance(),R.getInstance())},getClosestVariantNode:function(){return te?B:v==null?void 0:v.getClosestVariantNode()},getLayoutId:function(){return g.layoutId},getInstance:function(){return T},getStaticValue:function(R){return y[R]},setStaticValue:function(R,D){return y[R]=D},getLatestValues:function(){return y},setVisibility:function(R){B.isVisible!==R&&(B.isVisible=R,B.scheduleRender())},makeTargetAnimatable:function(R,D){return D===void 0&&(D=!0),a(B,R,g,D)},measureViewportBox:function(){return i(T,g)},addValue:function(R,D){B.hasValue(R)&&B.removeValue(R),_.set(R,D),y[R]=D.get(),ee(R,D)},removeValue:function(R){var D;_.delete(R),(D=M.get(R))===null||D===void 0||D(),M.delete(R),delete y[R],c(R,C)},hasValue:function(R){return _.has(R)},getValue:function(R,D){var J=_.get(R);return J===void 0&&D!==void 0&&(J=lt(D),B.addValue(R,J)),J},forEachValue:function(R){return _.forEach(R)},readValue:function(R){var D;return(D=y[R])!==null&&D!==void 0?D:l(T,R,d)},setBaseTarget:function(R,D){F[R]=D},getBaseTarget:function(R){if(o){var D=o(g,R);if(D!==void 0&&!Ie(D))return D}return F[R]}},E),{build:function(){return z(),C},scheduleRender:function(){Se.render(j,!1,!0)},syncRender:j,setProps:function(R){(R.transformTemplate||g.transformTemplate)&&B.scheduleRender(),g=R,E.updatePropListeners(R),O=jv(B,f(g),O)},getProps:function(){return g},getVariant:function(R){var D;return(D=g.variants)===null||D===void 0?void 0:D[R]},getDefaultTransition:function(){return g.transition},getTransformPagePoint:function(){return g.transformPagePoint},getVariantContext:function(R){if(R===void 0&&(R=!1),R)return v==null?void 0:v.getVariantContext();if(!Re){var D=(v==null?void 0:v.getVariantContext())||{};return g.initial!==void 0&&(D.initial=g.initial),D}for(var J={},me=0;me<kv;me++){var qe=Vl[me],Ue=g[qe];(ge(Ue)||Ue===!1)&&(J[qe]=Ue)}return J}});return B}},Vl=xe(["initial"],X(bo),!1),kv=Vl.length;function Vr(e){return typeof e=="string"&&e.startsWith("var(--")}var Ll=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Fv(e){var t=Ll.exec(e);if(!t)return[,];var n=X(t,3),r=n[1],o=n[2];return[r,o]}function Lr(e,t,n){var r=X(Fv(e),2),o=r[0],a=r[1];if(o){var i=window.getComputedStyle(t).getPropertyValue(o);return i?i.trim():Vr(a)?Lr(a,t):a}}function Nv(e,t,n){var r,o=he(t,[]),a=e.getInstance();if(!(a instanceof Element))return{target:o,transitionEnd:n};n&&(n=I({},n)),e.forEachValue(function(c){var u=c.get();if(Vr(u)){var f=Lr(u,a);f&&c.set(f)}});for(var i in o){var s=o[i];if(Vr(s)){var l=Lr(s,a);l&&(o[i]=l,n&&((r=n[i])!==null&&r!==void 0||(n[i]=s)))}}return{target:o,transitionEnd:n}}var Bv=new Set(["width","height","top","left","right","bottom","x","y"]),jl=function(e){return Bv.has(e)},Uv=function(e){return Object.keys(e).some(jl)},kl=function(e,t){e.set(t,!1),e.set(t)},Gi=function(e){return e===Ye||e===V},Ki;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(Ki||(Ki={}));var Yi=function(e,t){return parseFloat(e.split(", ")[t])},$i=function(e,t){return function(n,r){var o=r.transform;if(o==="none"||!o)return 0;var a=o.match(/^matrix3d\((.+)\)$/);if(a)return Yi(a[1],t);var i=o.match(/^matrix\((.+)\)$/);return i?Yi(i[1],e):0}},zv=new Set(["x","y","z"]),Wv=Dt.filter(function(e){return!zv.has(e)});function Hv(e){var t=[];return Wv.forEach(function(n){var r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.syncRender(),t}var qi={width:function(e,t){var n=e.x,r=t.paddingLeft,o=r===void 0?"0":r,a=t.paddingRight,i=a===void 0?"0":a;return n.max-n.min-parseFloat(o)-parseFloat(i)},height:function(e,t){var n=e.y,r=t.paddingTop,o=r===void 0?"0":r,a=t.paddingBottom,i=a===void 0?"0":a;return n.max-n.min-parseFloat(o)-parseFloat(i)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:$i(4,13),y:$i(5,14)},Gv=function(e,t,n){var r=t.measureViewportBox(),o=t.getInstance(),a=getComputedStyle(o),i=a.display,s={};i==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(function(c){s[c]=qi[c](r,a)}),t.syncRender();var l=t.measureViewportBox();return n.forEach(function(c){var u=t.getValue(c);kl(u,s[c]),e[c]=qi[c](l,a)}),e},Kv=function(e,t,n,r){n===void 0&&(n={}),r===void 0&&(r={}),t=I({},t),r=I({},r);var o=Object.keys(t).filter(jl),a=[],i=!1,s=[];if(o.forEach(function(c){var u=e.getValue(c);if(e.hasValue(c)){var f=n[c],h=mt(f),d=t[c],v;if(Rt(d)){var g=d.length,w=d[0]===null?1:0;f=d[w],h=mt(f);for(var x=w;x<g;x++)v?sn(mt(d[x])===v):v=mt(d[x])}else v=mt(d);if(h!==v)if(Gi(h)&&Gi(v)){var S=u.get();typeof S=="string"&&u.set(parseFloat(S)),typeof d=="string"?t[c]=parseFloat(d):Array.isArray(d)&&v===V&&(t[c]=d.map(parseFloat))}else h!=null&&h.transform&&(v!=null&&v.transform)&&(f===0||d===0)?f===0?u.set(v.transform(f)):t[c]=h.transform(d):(i||(a=Hv(e),i=!0),s.push(c),r[c]=r[c]!==void 0?r[c]:t[c],kl(u,d))}}),s.length){var l=Gv(t,e,s);return a.length&&a.forEach(function(c){var u=X(c,2),f=u[0],h=u[1];e.getValue(f).set(h)}),e.syncRender(),{target:l,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Yv(e,t,n,r){return Uv(t)?Kv(e,t,n,r):{target:t,transitionEnd:r}}var $v=function(e,t,n,r){var o=Nv(e,t,r);return t=o.target,r=o.transitionEnd,Yv(e,t,n,r)};function qv(e){return window.getComputedStyle(e)}var Fl={treeType:"dom",readValueFromInstance:function(e,t){if(Ut(t)){var n=ao(t);return n&&n.default||0}else{var r=qv(e);return(il(t)?r.getPropertyValue(t):r[t])||0}},sortNodePosition:function(e,t){return e.compareDocumentPosition(t)&2?1:-1},getBaseTarget:function(e,t){var n;return(n=e.style)===null||n===void 0?void 0:n[t]},measureViewportBox:function(e,t){var n=t.transformPagePoint;return Al(e,n)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var o=n.transformValues;r===void 0&&(r=!0);var a=t.transition,i=t.transitionEnd,s=he(t,["transition","transitionEnd"]),l=av(s,a||{},e);if(o&&(i&&(i=o(i)),s&&(s=o(s)),l&&(l=o(l))),r){ov(e,s,l);var c=$v(e,s,l,i);i=c.transitionEnd,s=c.target}return I({transition:a,transitionEnd:i},s)},scrapeMotionValuesFromProps:mo,build:function(e,t,n,r,o){e.isVisible!==void 0&&(t.style.visibility=e.isVisible?"visible":"hidden"),fo(t,n,r,o.transformTemplate)},render:ul},Xv=Ol(Fl),Zv=Ol(I(I({},Fl),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return Ut(t)?((n=ao(t))===null||n===void 0?void 0:n.default)||0:(t=dl.has(t)?t:cl(t),e.getAttribute(t))},scrapeMotionValuesFromProps:pl,build:function(e,t,n,r,o){ho(t,n,r,o.transformTemplate)},render:fl})),Jv=function(e,t){return uo(e)?Zv(t,{enableHardwareAcceleration:!1}):Xv(t,{enableHardwareAcceleration:!0})};function Xi(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var vt={correct:function(e,t){if(!t.target)return e;if(typeof e=="string")if(V.test(e))e=parseFloat(e);else return e;var n=Xi(e,t.target.x),r=Xi(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Zi="_$css",Qv={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,o=e,a=e.includes("var("),i=[];a&&(e=e.replace(Ll,function(g){return i.push(g),Zi}));var s=_e.parse(e);if(s.length>5)return o;var l=_e.createTransformer(e),c=typeof s[0]!="number"?1:0,u=r.x.scale*n.x,f=r.y.scale*n.y;s[0+c]/=u,s[1+c]/=f;var h=Y(u,f,.5);typeof s[2+c]=="number"&&(s[2+c]/=h),typeof s[3+c]=="number"&&(s[3+c]/=h);var d=l(s);if(a){var v=0;d=d.replace(Zi,function(){var g=i[v];return v++,g})}return d}},eg=function(e){ja(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.componentDidMount=function(){var n=this,r=this.props,o=r.visualElement,a=r.layoutGroup,i=r.switchLayoutGroup,s=r.layoutId,l=o.projection;Rh(ng),l&&(a!=null&&a.group&&a.group.add(l),i!=null&&i.register&&s&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",function(){n.safeToRemove()}),l.setOptions(I(I({},l.options),{onExitComplete:function(){return n.safeToRemove()}}))),Ct.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(n){var r=this,o=this.props,a=o.layoutDependency,i=o.visualElement,s=o.drag,l=o.isPresent,c=i.projection;return c&&(c.isPresent=l,s||n.layoutDependency!==a||a===void 0?c.willUpdate():this.safeToRemove(),n.isPresent!==l&&(l?c.promote():c.relegate()||Se.postRender(function(){var u;!((u=c.getStack())===null||u===void 0)&&u.members.length||r.safeToRemove()}))),null},t.prototype.componentDidUpdate=function(){var n=this.props.visualElement.projection;n&&(n.root.didUpdate(),!n.currentAnimation&&n.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var n=this.props,r=n.visualElement,o=n.layoutGroup,a=n.switchLayoutGroup,i=r.projection;i&&(i.scheduleCheckAfterUnmount(),o!=null&&o.group&&o.group.remove(i),a!=null&&a.deregister&&a.deregister(i))},t.prototype.safeToRemove=function(){var n=this.props.safeToRemove;n==null||n()},t.prototype.render=function(){return null},t}(Ee.Component);function tg(e){var t=X(wl(),2),n=t[0],r=t[1],o=m.useContext(nl);return Ee.createElement(eg,I({},e,{layoutGroup:o,switchLayoutGroup:m.useContext(rl),isPresent:n,safeToRemove:r}))}var ng={borderRadius:I(I({},vt),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:vt,borderTopRightRadius:vt,borderBottomLeftRadius:vt,borderBottomRightRadius:vt,boxShadow:Qv},rg={measureLayout:tg},og=tl({attachResizeListener:function(e,t){return e.addEventListener("resize",t,{passive:!0}),function(){return e.removeEventListener("resize",t)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),lr={current:void 0},ig=tl({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!lr.current){var e=new og(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),lr.current=e}return lr.current},resetTransform:function(e,t){e.style.transform=t??"none"}}),ag=I(I(I(I({},gv),Ym),Vv),rg),zt=rm(function(e,t){return Tm(e,t,ag,Jv,ig)}),Ji,Qi,ea,ta,na,ra,oa,ia,aa,sa,la,ca,ua,da,fa,pa,ha,ma,va,ga,ya,ba,xa,Sa,Pa,Ca,wa;function H(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function xo(e){let{children:t,ms:n=0}=e;const[r,o]=m.useState(n<=0);return m.useEffect(()=>{if(n<=0)return;const a=setTimeout(()=>o(!0),n);return()=>{clearTimeout(a)}},[n]),!r||!t?p(q,{}):typeof t=="function"?t():t}const So=e=>{const{actions:t,children:n,actionProps:r,onActionComplete:o}=e;return p(Ya,{onReset:o,hooks:t,args:r,children:n})},sg=e=>{const{badges:t,children:n,badgeProps:r,...o}=e;return p(Ya,{...o,hooks:t,args:r,children:n})},lg=[];function cg(e){const{children:t,flatIndex:n,index:r,params:o,payload:a,siblingIndex:i}=e,{navigate:s,navigateIntent:l}=jt(),c=uu(),u=m.useMemo(()=>(c==null?void 0:c.panes)||lg,[c==null?void 0:c.panes]),f=r-1,h=m.useCallback(x=>{const S=u[f]||[],P=S[i],b=x(S,P),y=[...u.slice(0,f),b,...u.slice(f+1)],C={...c||{},panes:y};return setTimeout(()=>s(C),0),C},[f,s,u,c,i]),d=m.useCallback(x=>{h((S,P)=>[...S.slice(0,i),{...P,payload:x},...S.slice(i+1)])},[h,i]),v=m.useCallback(x=>{h((S,P)=>[...S.slice(0,i),{...P,params:x},...S.slice(i+1)])},[h,i]),g=m.useCallback(x=>{let{id:S,parentRefPath:P,type:b,template:y}=x;s({panes:[...u.slice(0,f+1),[{id:S,params:{template:y.id,parentRefPath:du(P),type:b},payload:y.params}]]})},[f,s,u]),w=m.useMemo(()=>({index:n,groupIndex:f,siblingIndex:i,payload:a,params:o,hasGroupSiblings:u[f]?u[f].length>1:!1,groupLength:u[f]?u[f].length:0,routerPanesState:u,ChildLink:fu,BackLink:pu,ReferenceChildLink:hu,handleEditReference:g,ParameterizedLink:mu,replaceCurrent:function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};h(()=>[{id:x.id||"",payload:x.payload,params:x.params||{}}])},closeCurrent:()=>{h((x,S)=>x.length>1?x.filter(P=>P!==S):x)},duplicateCurrent:x=>{h((S,P)=>{const b={...P,payload:(x==null?void 0:x.payload)||P.payload,params:(x==null?void 0:x.params)||P.params};return[...S.slice(0,i),b,...S.slice(i)]})},setView:x=>{const S=Fr(o,"view");return v(x?{...S,view:x}:S)},setParams:v,setPayload:d,navigateIntent:l}),[n,f,g,h,l,o,a,u,v,d,i]);return p(vu.Provider,{value:w,children:t})}function ug(e,t,n,r){var o,a;const i={flex:e.left.flex+e.right.flex,width:e.left.width+e.right.width},s=(o=t.minWidth)!=null?o:vr,l=(a=n.minWidth)!=null?a:vr,c=Math.min(t.maxWidth||1/0,i.width-l),u=Math.min(n.maxWidth||1/0,i.width-s);let f=s-e.left.width;const h=e.right.width-u;f<h&&(f=h);let d=e.right.width-l;const v=c-e.left.width;d>v&&(d=v);const g=Math.min(Math.max(r,f),d),w=e.left.width+g,x=e.right.width-g,S=w/i.width*i.flex,P=x/i.width*i.flex;return{leftFlex:S,leftW:w,rightFlex:P,rightW:x}}function dg(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const i=Array.from(o.childNodes).indexOf(r);if(n.unshift(i),o===e)return n;r=o}return n}const Ea=[];function fg(e,t){const n=new WeakMap;for(const o of t)n.set(o,dg(e,o));const r=(o,a)=>{const i=n.get(o)||Ea,s=n.get(a)||Ea,l=Math.max(i.length,s.length);for(let c=0;c<l;c+=1){const u=i[c]||-1,f=s[c]||-1;if(u!==f)return u-f}return 0};t.sort(r)}function pg(){const e=[],t=[],n=new WeakMap,r=new Set,o={};let a=null,i=0,s=null,l=new Map,c=!1;function u(S){r.add(S),s===S&&(s=null),x()}function f(S){r.delete(S),s=S,x()}function h(S,P){return n.set(S,{...P,original:P}),t.push(S),a&&fg(a,t),f(S),()=>{const b=t.indexOf(S);b>-1&&t.splice(b,1),n.delete(S),x()}}function d(S,P,b){var y,C,T,E;const _=t.indexOf(P),M=n.get(P);if(!M)return;const O=t[_+1],F=n.get(O);if(F){if(S==="start"&&(c=!0,o.left={element:P,flex:M.flex||1,width:P.offsetWidth},o.right={element:O,flex:F.flex||1,width:O.offsetWidth},x()),S==="move"&&o.left&&o.right){l=new Map;const{leftW:L,rightW:j,leftFlex:z,rightFlex:Q}=ug(o,M,F,b);l.set(P,{flex:z,width:L}),l.set(O,{flex:Q,width:j}),x()}if(S==="end"){c=!1;const L=l.get(P),j=l.get(O);n.set(P,{...M,currentMinWidth:0,currentMaxWidth:(y=M.maxWidth)!=null?y:1/0,flex:(C=L==null?void 0:L.flex)!=null?C:M.flex}),n.set(O,{...F,currentMinWidth:0,currentMaxWidth:(T=M.maxWidth)!=null?T:1/0,flex:(E=j==null?void 0:j.flex)!=null?E:F.flex}),l=new Map,delete o.left,delete o.right,x()}}}function v(S){a=S}function g(S){i=S,x()}function w(S){return e.push(S),()=>{const P=e.push(S);P>-1&&e.splice(P,1)}}return{collapse:u,expand:f,mount:h,resize:d,setRootElement:v,setRootWidth:g,subscribe:w};function x(){var S,P,b,y;if(!i)return;const C=[];for(const L of t)L!==s&&C.unshift(L);s&&C.unshift(s);const T=new WeakMap,E=C.length,_=C[0],M=(E-1)*qn;let O=i-M;for(const L of C){const j=n.get(L);if(!j)continue;const z=j.currentMinWidth||j.minWidth||vr,Q=L===_,ee=r.has(L),ce=z>O,K=Q?!1:ee||ce,fe=l.get(L);T.set(L,{element:L,collapsed:K,currentMinWidth:(S=fe==null?void 0:fe.width)!=null?S:j.currentMinWidth,currentMaxWidth:(P=fe==null?void 0:fe.width)!=null?P:j.currentMaxWidth,flex:(y=(b=fe==null?void 0:fe.flex)!=null?b:j.flex)!=null?y:1}),K?O-=qn:O-=z-qn}const F=[];for(const L of t){const j=T.get(L);j&&F.push(j)}for(const L of e)L({expandedElement:s||t[t.length-1]||null,panes:F,resizing:c})}}function hg(e){const{children:t,minWidth:n,onCollapse:r,onExpand:o,...a}=e,i=m.useMemo(()=>pg(),[]),[s,l]=m.useState(null),c=wn(s),u=(c==null?void 0:c.width)||0,f=u===void 0||!n?void 0:u<n,[h,d]=m.useState({expandedElement:null,panes:[],resizing:!1});m.useEffect(()=>i.setRootElement(s),[i,s]),m.useEffect(()=>i.setRootWidth(u),[i,u]),m.useEffect(()=>i.subscribe(d),[i]),m.useEffect(()=>{f!==void 0&&(f&&r&&r(),!f&&o&&o())},[f,r,o]);const v=m.useMemo(()=>({collapse:i.collapse,collapsed:f,expand:i.expand,expandedElement:h.expandedElement,mount:i.mount,panes:h.panes,resize:i.resize,resizing:h.resizing}),[f,i,h.expandedElement,h.panes,h.resizing]);return p(gu.Provider,{value:v,children:p(yu,{"data-ui":"PaneLayout",...a,"data-collapsed":f?"":void 0,"data-resizing":h.resizing?"":void 0,"data-mounted":u?"":void 0,ref:l,children:t})})}class ct extends Error{constructor(t){let{message:n,context:r,helpId:o,cause:a}=t;super(n),this.context=r,this.helpId=o,this.cause=a}}const Ta=new WeakMap;function jn(e){const t=Ta.get(e);if(t)return t;const n=vd();return Ta.set(e,n),n}const _a=new WeakMap;function Nl(e,t){const n=_a.get(e)||new Map;if(n){const a=n.get(t);if(a)return a}const r=e[t];if(typeof r!="function")throw new Error("Expected property `".concat(t,"` to be a function but got ").concat(typeof r," instead."));const o=r.bind(e);return n.set(t,o),_a.set(e,n),o}const mg=e=>!!e&&typeof(e==null?void 0:e.then)=="function",vg=e=>Ke(e)?typeof e.serialize=="function":!1,gg=e=>(t,n,r)=>{try{return e(t,n,r)}catch(o){throw o instanceof ct?o:new ct({message:typeof(o==null?void 0:o.message)=="string"?o.message:"",context:n,cause:o})}},yg=e=>function(){return e(...arguments).pipe(gd(1),yd())};function Bl(e){const t=gg(yg(e((n,r,o)=>{if(!n)throw new ct({message:"Pane returned no child",context:r,helpId:"structure-item-returned-no-child"});return mg(n)||dd(n)?os(n).pipe(En(a=>t(a,r,o))):vg(n)?t(n.serialize(r),r,o):typeof n=="function"?t(n(r.id,r),r,o):Be(n)})));return t}async function bg(e){const t=new Map,r=Bl(l=>(c,u,f)=>{const h=c&&"".concat(jn(c),"-").concat(u.path.join("__")),d=h&&t.get(h);if(d)return d;const v=l(c,u,f);return h&&t.set(h,v),v}),o=[[{id:"__edit__".concat(e.params.id),params:{...Fr(e.params,["id"]),type:e.params.type},payload:e.payload}]];async function a(l){let{currentId:c,flatIndex:u,intent:f,params:h,parent:d,path:v,payload:g,unresolvedPane:w,levelIndex:x,structureContext:S}=l;var P;if(!w)return[];const{id:b,type:y,...C}=h,E=await ss(r(w,{id:c,splitIndex:0,parent:d,path:v,index:u,params:{},payload:void 0,structureContext:S},u));return E.type==="document"&&E.id===b?[{panes:[...v.slice(0,v.length-1).map(_=>[{id:_}]),[{id:b,params:C,payload:g}]],depthIndex:v.length,levelIndex:x}]:(P=E.canHandleIntent)!=null&&P.call(E,f,h,{pane:E,index:u})||E.type==="documentList"&&E.schemaTypeName===y&&E.options.filter==="_type == $type"?[{panes:[...v.map(_=>[{id:_}]),[{id:h.id,params:C,payload:g}]],depthIndex:v.length,levelIndex:x}]:E.type==="list"&&E.child&&E.items?(await Promise.all(E.items.map((_,M)=>_.type==="divider"?Promise.resolve([]):a({currentId:_._id||_.id,flatIndex:u+1,intent:f,params:h,parent:E,path:[...v,_.id],payload:g,unresolvedPane:typeof E.child=="function"?Nl(E,"child"):E.child,levelIndex:M,structureContext:S})))).flat():[]}const s=(await a({currentId:"root",flatIndex:0,levelIndex:0,intent:e.intent,params:e.params,parent:null,path:[],payload:e.payload,unresolvedPane:e.rootPaneNode,structureContext:e.structureContext})).sort((l,c)=>l.depthIndex===c.depthIndex?l.levelIndex-c.levelIndex:l.depthIndex-c.depthIndex)[0];return s?s.panes:o}function $e(){const e=m.useContext(Mc);if(!e)throw new Error("DeskTool: missing context value");return e}const xg=(e,t)=>{const n=e.replace(/^__edit__/,""),{params:r,payload:o,structureContext:{resolveDocumentNode:a}}=t,{type:i,template:s}=r;if(!i)throw new Error("Document type for document with ID ".concat(n," was not provided in the router params."));let l=a({schemaType:i,documentId:n});return l=l.id("editor").title("Editor"),s&&(l=l.initialValueTemplate(s,o)),l.serialize()};function Sg(e){var t,n;return"contextHash(".concat(JSON.stringify({id:e.id,parentId:parent&&jn(parent),path:e.path,index:e.index,splitIndex:e.splitIndex,serializeOptionsIndex:(t=e.serializeOptions)==null?void 0:t.index,serializeOptionsPath:(n=e.serializeOptions)==null?void 0:n.path}),")")}const Ia=e=>{const t={type:e.type,id:e.routerPaneSibling.id,params:e.routerPaneSibling.params||{},payload:e.routerPaneSibling.payload||null,flatIndex:e.flatIndex,groupIndex:e.groupIndex,siblingIndex:e.siblingIndex,path:e.path,paneNode:e.type==="resolvedMeta"?jn(e.paneNode):null};return"metaHash(".concat(JSON.stringify(t),")")};function an(e){let{unresolvedPane:t,flattenedRouterPanes:n,parent:r,path:o,resolvePane:a,structureContext:i}=e;const[s,...l]=n,c=l[0],u={id:s.routerPaneSibling.id,splitIndex:s.siblingIndex,parent:r,path:[...o,s.routerPaneSibling.id],index:s.flatIndex,params:s.routerPaneSibling.params||{},payload:s.routerPaneSibling.payload,structureContext:i};try{return a(t,u,s.flatIndex).pipe(En(f=>{const h={type:"resolvedMeta",...s,paneNode:f,path:u.path},d=l.map((g,w)=>({type:"loading",path:[...u.path,...l.slice(w).map((P,b)=>"[".concat(g.flatIndex+b,"]"))],paneNode:null,...g}));if(!l.length)return Be([h]);let v;return c!=null&&c.routerPaneSibling.id.startsWith("__edit__")?v=an({unresolvedPane:xg,flattenedRouterPanes:l,parent:r,path:u.path,resolvePane:a,structureContext:i}):s.groupIndex===(c==null?void 0:c.groupIndex)?v=an({unresolvedPane:t,flattenedRouterPanes:l,parent:r,path:o,resolvePane:a,structureContext:i}):v=an({unresolvedPane:typeof f.child=="function"?Nl(f,"child"):f.child,flattenedRouterPanes:l,parent:f,path:u.path,resolvePane:a,structureContext:i}),Za(Be([h,...d]),v.pipe(Ge(g=>[h,...g])))}))}catch(f){if(f instanceof ct&&(f.context&&console.warn("Pane resolution error at index ".concat(f.context.index).concat(f.context.splitIndex>0?" for split pane index ".concat(f.context.splitIndex):"",": ").concat(f.message).concat(f.helpId?" - see ".concat(rs(f.helpId)):""),f),f.helpId==="structure-item-returned-no-child"))return Be([]);throw f}}function Pg(e){let{routerPanesStream:t,rootPaneNode:n,initialCacheState:r={cacheKeysByFlatIndex:[],flattenedRouterPanes:[],resolvedPaneCache:new Map,resolvePane:()=>fd},structureContext:o}=e;return t.pipe(Ge(i=>[[{id:"root"}],...i]),Ge(i=>i.flatMap((l,c)=>l.map((u,f)=>({routerPaneSibling:u,groupIndex:c,siblingIndex:f}))).map((l,c)=>({...l,flatIndex:c}))),Bu([]),_d(),Ge(i=>{let[s,l]=i;for(let c=0;c<l.length;c++){const u=s[c],f=l[c];if(!ur(u,f))return{flattenedRouterPanes:l,diffIndex:c}}return{flattenedRouterPanes:l,diffIndex:l.length}}),Fo((i,s)=>{const{cacheKeysByFlatIndex:l,resolvedPaneCache:c}=i,{flattenedRouterPanes:u,diffIndex:f}=s,h=l.slice(0,f+1),d=l.slice(f+1),v=new Set(h.flatMap(x=>Array.from(x))),g=d.flatMap(x=>Array.from(x)).filter(x=>!v.has(x));for(const x of g)c.delete(x);return{flattenedRouterPanes:u,cacheKeysByFlatIndex:l,resolvedPaneCache:c,resolvePane:Bl(x=>(S,P,b)=>{const y=S&&"".concat(jn(S),"-").concat(Sg(P)),C=y&&c.get(y);if(C)return C;const T=x(S,P,b);if(!y)return T;const E=l[b]||new Set;return E.add(y),l[b]=E,c.set(y,T),T})}},r),En(i=>{let{flattenedRouterPanes:s,resolvePane:l}=i;return an({unresolvedPane:n,flattenedRouterPanes:s,parent:null,path:[],resolvePane:l,structureContext:o})})).pipe(Fo((i,s)=>s.map((l,c)=>{const u=i[c];return!u||l.type!=="loading"?l:u.routerPaneSibling.id===l.routerPaneSibling.id?u:l}),[]),Uu((i,s)=>{if(i.length!==s.length)return!1;for(let l=0;l<s.length;l++){const c=i[l],u=s[l];if(Ia(c)!==Ia(u))return!1}return!0}))}function Cg(){const e=m.useMemo(()=>new zu(1),[]),t=m.useMemo(()=>e.asObservable().pipe(Ge(r=>(r==null?void 0:r.panes)||[])),[e]),{state:n}=jt();return m.useEffect(()=>{e.next(n)},[n,e]),t}function wg(){const[e,t]=m.useState();if(e)throw e;const{structureContext:n,rootPaneNode:r}=$e(),[o,a]=m.useState({paneDataItems:[],resolvedPanes:[],routerPanes:[]}),i=Cg();return m.useEffect(()=>{const l=Pg({rootPaneNode:r,routerPanesStream:i,structureContext:n}).pipe(Ge(c=>{const u=c.reduce((d,v)=>{const g=d[v.groupIndex]||[];return g[v.siblingIndex]=v.routerPaneSibling,d[v.groupIndex]=g,d},[]),f=u.length,h=c.map(d=>{var v;const{groupIndex:g,flatIndex:w,siblingIndex:x,routerPaneSibling:S,path:P}=d,b=S.id,y=u[g+1];return{active:g===f-2,childItemId:(v=y==null?void 0:y[0].id)!=null?v:null,index:w,itemId:S.id,groupIndex:g,key:"".concat(d.type==="loading"?"unknown":d.paneNode.id,"-").concat(b,"-").concat(x),pane:d.type==="loading"?fr:d.paneNode,params:S.params||{},path:P.join(";"),payload:S.payload,selected:w===c.length-1,siblingIndex:x}});return{paneDataItems:h,routerPanes:u,resolvedPanes:h.map(d=>d.pane)}})).subscribe({next:c=>a(c),error:c=>t(c)});return()=>l.unsubscribe()},[r,i,n]),o}function Eg(e){let{panes:t}=e;const{navigate:n}=jt();return m.useEffect(()=>{n({panes:t},{replace:!0})},[n,t]),p(Te,{height:"fill",children:p(xo,{ms:300,children:A(W,{align:"center",direction:"column",height:"fill",justify:"center",children:[p(ut,{muted:!0}),p(k,{marginTop:3,children:p(N,{muted:!0,size:1,children:"Redirecting…"})})]})})})}async function Tg(e,t,n){if(t&&n)return{id:t,type:n};if(!t&&n)return{id:bd(),type:n};if(t&&!n){const r=await ss(e.resolveTypeForDocument(t));return{id:t,type:r}}throw new ct({message:"Neither document `id` or `type` was provided when trying to resolve intent."})}function _g(e){let{intent:t,params:n={},payload:r}=e;const{rootPaneNode:o,structureContext:a}=$e(),i=ns(),s=Ve(n),l=Ve(r),[c,u]=m.useState(null),[f,h]=m.useState(null),d=typeof s.id=="string"?s.id:void 0,v=typeof s.type=="string"?s.type:void 0;if(m.useEffect(()=>{const g={current:!1};async function w(){const{id:x,type:S}=await Tg(i,d,v);return bg({intent:t,params:{...s,id:x,type:S},payload:l,rootPaneNode:o,structureContext:a})}return w().then(x=>{g.current||u(x)}).catch(h),()=>{g.current=!0}},[i,d,t,s,l,o,a,v]),f)throw f;return c?p(Eg,{panes:c}):p(Te,{height:"fill",children:p(xo,{ms:300,children:A(W,{align:"center",direction:"column",height:"fill",justify:"center",children:[p(ut,{muted:!0}),p(k,{marginTop:3,children:p(N,{align:"center",muted:!0,size:1,children:"Loading…"})})]})})})}const Ig=$.span(Ji||(Ji=H([`
  &:not(:last-child)::after {
    content: ' ➝ ';
    opacity: 0.5;
  }
`])));function Mg(e){return e.replace(/\(\.\.\.\)\./g,`(...)
  .`).replace(/__WEBPACK_IMPORTED_MODULE_\d+_+/g,"").replace(/___default\./g,".").replace(new RegExp(" \\(https?:\\/\\/".concat(window.location.host),"g")," (")}function Rg(e){let{error:t}=e;if(!(t instanceof ct))throw t;const{cause:n}=t,r=(n==null?void 0:n.stack)||t.stack,o=r&&!(n instanceof $n)&&!t.message.includes("Module build failed:"),a=n instanceof $n?n.path:[],i=n instanceof $n&&n.helpId||t.helpId,s=m.useCallback(()=>{window.location.reload()},[]);return p(Te,{height:"fill",overflow:"auto",padding:4,sizing:"border",tone:"critical",children:A(Vt,{children:[p(Wu,{as:"h2",children:"Encountered an error while reading structure"}),A(Te,{marginTop:4,padding:4,radius:2,overflow:"auto",shadow:1,tone:"inherit",children:[a.length>0&&A(Ce,{space:2,children:[p(No,{children:"Structure path"}),p(hr,{children:a.slice(1).map((l,c)=>p(Ig,{children:l},"".concat(l,"-").concat(c)))})]}),A(Ce,{marginTop:4,space:2,children:[p(No,{children:"Error"}),p(hr,{children:o?Mg(r):t.message})]}),i&&p(k,{marginTop:4,children:p(N,{children:p("a",{href:rs(i),rel:"noopener noreferrer",target:"_blank",children:"View documentation"})})}),p(k,{marginTop:4,children:p(le,{text:"Reload",icon:Wa,tone:"primary",onClick:s})})]})]})})}function Dg(e){const{isSelected:t,pane:n,paneKey:r}=e,o=Ke(n)&&n.type||null;return A(xn,{id:r,selected:t,children:[p(Cn,{title:"Unknown pane type"}),p(At,{children:p(k,{padding:4,children:typeof o=="string"?A(N,{as:"p",muted:!0,children:["Structure item of type ",p("code",{children:o})," is not a known entity."]}):A(N,{as:"p",muted:!0,children:["Structure item is missing required ",p("code",{children:"type"})," property."]})})})]})}function Ag(e){const t=[{ms:300,message:"Loading…"},{ms:5e3,message:"Still loading…"}],n=Be(null);return Hu(...t.map(r=>{let{ms:o,message:a}=r;return n.pipe(Gu(a),Ku(o))}))}const Og="Loading…",Vg=$(W)(Qi||(Qi=H([`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`]))),kn=m.memo(e=>{const{delay:t=300,flex:n,message:r=Ag,minWidth:o,paneKey:a,path:i,selected:s,title:l,tone:c}=e,u=m.useMemo(()=>typeof r=="function"?r(i?i.split(";"):[]):r,[r,i]),[f,h]=m.useState(()=>typeof u=="string"?u:Og);m.useEffect(()=>{if(typeof u!="object"||typeof u.subscribe=="function")return;const S=u.subscribe(h);return()=>S.unsubscribe()},[u]);const[d,v]=m.useState(null),[g,w]=m.useState(!1);return m.useEffect(()=>{if(d)return Rc(()=>w(!0))},[d]),p(xn,{flex:n,id:a,minWidth:o,selected:s,tone:c,children:p(At,{children:A(Vg,{align:"center","data-mounted":g?"":void 0,direction:"column",height:"fill",justify:"center",ref:v,children:[p(ut,{muted:!0}),(l||f)&&p(k,{marginTop:3,children:p(N,{align:"center",muted:!0,size:1,children:l||f})})]})})})});kn.displayName="LoadingPane";const Lg={component:m.lazy(()=>Ht(()=>import("./index-99a85fcb-f1a3e47e.js"),["static/index-99a85fcb-f1a3e47e.js","static/desk-eb7b3548-2de61ce2.js"])),document:m.lazy(()=>Ht(()=>import("./index-6ea4c5fb-7a6987d6.js"),["static/index-6ea4c5fb-7a6987d6.js","static/desk-eb7b3548-2de61ce2.js"])),documentList:m.lazy(()=>Ht(()=>import("./index-1e1252eb-1149c5a3.js"),["static/index-1e1252eb-1149c5a3.js","static/desk-eb7b3548-2de61ce2.js","static/PaneItem-59fdbcf0-1afe2f1a.js"])),list:m.lazy(()=>Ht(()=>import("./index-2a652ab2-68b509c8.js"),["static/index-2a652ab2-68b509c8.js","static/desk-eb7b3548-2de61ce2.js","static/PaneItem-59fdbcf0-1afe2f1a.js"]))},jg=m.memo(function(t){const{active:n,childItemId:r,groupIndex:o,index:a,itemId:i,pane:s,paneKey:l,params:c,payload:u,selected:f,siblingIndex:h}=t,d=Lg[s.type]||Dg;return p(cg,{flatIndex:a,index:o,params:c,payload:u,siblingIndex:h,children:p(m.Suspense,{fallback:p(kn,{paneKey:l}),children:p(d,{childItemId:r||"",index:a,itemId:i,isActive:n,isSelected:f,paneKey:l,pane:s})})})},(e,t)=>{let{params:n={},payload:r=null,...o}=e,{params:a={},payload:i=null,...s}=t;if(!ur(n,a)||!ur(r,i))return!1;const l=new Set([...Object.keys(o),...Object.keys(s)]);for(const c of l)if(o[c]!==s[c])return!1;return!0});function Ul(e){const{children:t,flex:n,minWidth:r,paneKey:o,title:a="Error",tone:i="critical"}=e;return A(xn,{flex:n,id:o,minWidth:r,tone:i,children:[p(Cn,{title:a}),p(At,{overflow:"auto",children:p(k,{paddingX:4,paddingY:5,children:t})})]})}function kg(e){return e==="delete"?`An error occurred while attempting to delete this document.
      This usually means that there are other documents that refers to it.`:e==="unpublish"?`An error occurred while attempting to unpublish this document.
      This usually means that there are other documents that refers to it.`:"An error occurred during ".concat(e)}function Fg(e){return e==="publish"?"The document was published":e==="unpublish"?"The document was unpublished. A draft has been created from the latest published version.":e==="discardChanges"?"All changes since last publish has now been discarded. The discarded draft can still be recovered from history":e==="delete"?"This document was deleted. It can still be recovered from history and if you continue editing it will be recreated.":"Successfully performed ".concat(e," on document")}const Ng=["patch","commit"],Bg=m.memo(function(){const{push:t}=Sn(),{documentId:n,documentType:r}=Z(),o=Dc(n,r),a=m.useRef(o);return m.useEffect(()=>{!o||o===a.current||(o.type==="error"&&t({closable:!0,duration:3e4,status:"error",title:kg(o.op),description:A("details",{children:[p("summary",{children:"Details"}),o.error.message]})}),o.type==="success"&&!Ng.includes(o.op)&&t({closable:!0,status:"success",title:Fg(o.op)}),a.current=o)},[o,t]),null}),Ug=e=>{const{features:t,hasValue:n,changesOpen:r}=e;return t.reviewChanges?{action:"reviewChanges",title:"Review changes",icon:Yu,isDisabled:r||!n}:null},zg=e=>{let{hasValue:t}=e;return{action:"inspect",title:"Inspect",icon:$u,isDisabled:!t,shortcut:"Ctrl+Alt+I"}},Wg=e=>{let{previewUrl:t}=e;return t?{action:"production-preview",title:"Open preview",icon:qu,shortcut:"Ctrl+Alt+O"}:null},Hg=e=>[Wg,Ug,zg].filter(Boolean).map(n=>n(e)).filter(n=>n!==null),Gg=e=>Ke(e)&&typeof e._id=="string"&&typeof e._type=="string";function Kg(e){const[t,n]=m.useState(void 0),[r,o]=m.useState(null),{resolveProductionUrl:a}=Pn().document,i=Td(e);if(r)throw r;return m.useEffect(()=>{i.pipe($a(500),En(s=>Gg(s)?os(a({document:s})):Be(void 0)),bu(s=>{const l=Ke(s)&&typeof s.message=="string"?s.message:"Unknown error";throw new Error("An error was thrown while trying to get your preview url: ".concat(l))})).subscribe({next:n,error:o})},[a,i]),t}function Yg(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn('Conflicting templates: URL says "'.concat(t.urlTemplate,'", structure node says "').concat(r,'". Using "').concat(r,'".'));const o=r||t.urlTemplate,a=e.filter(l=>l.schemaType===t.documentType),i={...t.templateParams,...typeof n=="object"?n||{}:{}};let s=o;return!o&&a.length===1&&(s=a[0].id),{templateName:s,templateParams:i}}const $g={},zl=m.memo(e=>{const{children:t,index:n,pane:r,paneKey:o}=e,a=Ac(Oc),i=ka(),s=Fa(),{actions:l,badges:c,unstable_languageFilter:u}=Pn().document,f=Vc(),h=Lc(),d=Ot(),{features:v}=$e(),{push:g}=Sn(),{options:w,menuItemGroups:x,title:S=null,views:P=[]}=r,b=Ve(w),y=b.id,C=dr(y),T=w.type,E=Ve(d.params),_=Ve(d.payload),{templateName:M,templateParams:O}=m.useMemo(()=>Yg(s,{documentType:T,templateName:b.template,templateParams:b.templateParameters,panePayload:_,urlTemplate:E==null?void 0:E.template}),[T,b,E,_,s]),F=jc({documentId:C,documentType:T,templateName:M,templateParams:O}),L=Ve(F),{patch:j}=kc(C,T),z=Fc(C,T),{validation:Q}=Nc(C,T),ee=Bc(C,T),ce=i.get(T),K=(z==null?void 0:z.draft)||(z==null?void 0:z.published)||L.value,fe=m.useMemo(()=>l({schemaType:T,documentId:C}),[l,C,T]),Re=m.useMemo(()=>c({schemaType:T,documentId:C}),[c,C,T]),te=m.useMemo(()=>u({schemaType:T,documentId:C}),[C,T,u]),B=Ve(Q),R=Ve(P),D=d.params||$g,[J,me]=m.useState(()=>D.path?wt(D.path):[]),qe=D.view||R[0]&&R[0].id||null,Ue=m.useMemo(()=>f.getTimeline({publishedId:C,enableTrace:Na}),[C,f]),[Zl,Jl]=m.useState("closed"),{historyController:De}=Ba(()=>f.getTimelineController({client:a,documentId:C,documentType:T,timeline:Ue}),[a,C,T,Ue]);De.setRange(D.since||null,D.rev||null);const dt=De.changesPanelActive(),Xe=Kg(K),[Ql,ec]=m.useState([]);m.useEffect(()=>{const U=h.documentPresence(C).subscribe(ne=>{ec(ne)});return()=>{U.unsubscribe()}},[C,h]);const Co=Boolean(K),Fn=m.useMemo(()=>Hg({features:v,hasValue:Co,changesOpen:dt,previewUrl:Xe}),[v,Co,dt,Xe]),Nn=D.inspect==="on",wo=dt?De.sinceAttributes():(z==null?void 0:z.published)||null,Bn=ee==="connected"&&z.ready,Eo=De.onOlderRevision(),To=m.useMemo(()=>Eo?De.displayed()||{_id:K._id,_type:K._type}:K,[De,D.rev,D.since,K,Eo]),tc=m.useCallback((U,ne)=>{d.setParams({...d.params,since:U,rev:ne||void 0})},[d]),nc=m.useCallback(U=>{me(U),h.setLocation([{type:"document",documentId:C,path:U,lastActiveAt:new Date().toISOString()}])},[C,h,me]),rc=m.useCallback(U=>{me([])},[me]),_o=m.useRef(()=>{throw new Error("Nope")});_o.current=U=>{j.execute(Uc(U.patches),L.value)};const oc=m.useCallback(U=>_o.current(U),[]),ic=m.useCallback(()=>{d.setParams({...D,since:void 0})},[d,D]),Un=m.useCallback(()=>{d.setParams({...D,since:"@lastPublished"})},[d,D]),ac=m.useCallback(()=>d.closeCurrent(),[d]),sc=m.useCallback(()=>d.duplicateCurrent(),[d]),Wt=m.useCallback(function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!Nn)?d.setParams({...D,inspect:"on"}):d.setParams(Fr(D,"inspect"))},[Nn,d,D]),zn=m.useCallback(U=>U.action==="production-preview"&&Xe?(window.open(Xe),!0):U.action==="inspect"?(Wt(!0),!0):U.action==="reviewChanges"?(Un(),!0):!1,[Un,Xe,Wt]),lc=m.useCallback(U=>{for(const ne of Fn)if(ne.shortcut&&Nr(ne.shortcut,U)){U.preventDefault(),U.stopPropagation(),zn(ne);return}},[zn,Fn]),cc=m.useCallback(()=>Wt(!1),[Wt]),[uc,dc]=m.useState([]),[fc,Io]=m.useState(),[Mo,Ro]=m.useState(),[Do,Ao]=m.useState(),pc=m.useCallback((U,ne)=>{Ro(ue=>Je(ue,U,ne))},[]),hc=m.useCallback((U,ne)=>{Ao(ue=>Je(ue,U,ne))},[]),mc=m.useCallback((U,ne)=>Io(ue=>Je(ue,U,ne)),[]),vc=K._createdAt?"update":"create",Oo=m.useMemo(()=>Boolean(ce==null?void 0:ce.liveEdit),[T,i]),Wn=K._id?K._id:"dummy-id",gc=m.useMemo(()=>({...K,_id:Oo?dr(Wn):zc(Wn)}),[Oo,K,Wn]),[ft,Hn]=Wc({document:gc,permission:vc}),{revTime:Vo}=De,Lo=!(K!=null&&K._id),yc=m.useMemo(()=>{const U=!Hn&&!(ft!=null&&ft.granted),ne=!jo(ce,"update"),ue=Lo&&!jo(ce,"create");return!Bn||Vo!==null||U||ne||ue||ee==="reconnecting"},[ee,Lo,Hn,ft==null?void 0:ft.granted,Bn,Vo,ce]),Gn=Hc(ce,{value:To,readOnly:yc,comparisonValue:wo,focusPath:J,openPath:uc,collapsedPaths:Mo,presence:Ql,validation:B,collapsedFieldSets:Do,fieldGroupState:fc,changesOpen:dt}),Kn=m.useRef(Gn);Kn.current=Gn;const bc=m.useCallback(U=>{Gc(Kn.current,U).forEach(ue=>{ue.type==="expandPath"&&Ro(Ze=>Je(Ze,ue.path,!1)),ue.type==="expandFieldSet"&&Ao(Ze=>Je(Ze,ue.path,!1)),ue.type==="setSelectedGroup"&&Io(Ze=>Je(Ze,ue.path,ue.groupName))}),dc(U)},[Kn]),xc={actions:fe,activeViewId:qe,badges:Re,changesOpen:dt,collapsedFieldSets:Do,collapsedPaths:Mo,compareValue:wo,connectionState:ee,displayed:To,documentId:C,documentIdRaw:y,documentType:T,editState:z,focusPath:J,menuItems:Fn,onBlur:rc,onChange:oc,onFocus:nc,onPathOpen:bc,onHistoryClose:ic,onHistoryOpen:Un,onInspectClose:cc,onKeyUp:lc,onMenuAction:zn,onPaneClose:ac,onPaneSplit:sc,onSetActiveFieldGroup:mc,onSetCollapsedPath:pc,onSetCollapsedFieldSet:hc,historyController:De,index:n,inspectOpen:Nn,validation:B,menuItemGroups:x||[],paneKey:o,previewUrl:Xe,ready:Bn,schemaType:ce,isPermissionsLoading:Hn,permissions:ft,setTimelineMode:Jl,setTimelineRange:tc,timeline:Ue,timelineMode:Zl,title:S,value:K,views:R,formState:Gn,unstable_languageFilter:te};return m.useEffect(()=>{ee==="reconnecting"&&g({id:"sanity/desk/reconnecting",status:"warning",title:p(q,{children:"Connection lost. Reconnecting…"})})},[ee,g]),m.useEffect(()=>{me(D.path?wt(D.path):[])},[C,D.path]),p(Kc.Provider,{value:xc,children:t})});zl.displayName="DocumentPaneProvider";const qg={create:"created",delete:"deleted",discardDraft:"discarded draft",initial:"created",editDraft:"edited",editLive:"live edited",publish:"published",unpublish:"unpublished"},Xg={create:Uo,delete:xd,discardDraft:Et,initial:Uo,editDraft:zo,editLive:zo,publish:ts,unpublish:Sd};function jr(e){return qg[e]}function Zg(e){return Xg[e]}function Jg(e,t){return{topSelection:t,bottomSelection:e,disabledBeforeSelection:!0}}function Qg(e){return{topSelection:e,bottomSelection:e}}function e0(e){let{maxLength:t,userIds:n}=e;return p(qa,{maxLength:t,children:n.map(r=>p(Xa,{user:r,withTooltip:!0},r))})}const Qe=$(W)(e=>{let{theme:t}=e;var n;const r=(n=t.sanity.color.base.skeleton)==null?void 0:n.from;return Le(ea||(ea=H([`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: `,`;
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `])),r)}),t0=$(Ua)(e=>{let{state:t="enabled",isHovered:n,theme:r}=e;const{color:o}=r.sanity,a=o.button.default.primary.enabled;return Le(ta||(ta=H([`
    position: relative;
    min-width: 244px;

    `,`

    `,`

      `,`

    // line styling 👇
      &:first-child `,`::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &:last-child `,`::before {
      height: 50%;
    }

    `,`

    // Remove timeline lines when using the keyboard to navigate timeline items
    &:focus `,`::before {
      background: transparent;
    }
  `])),t==="selected"&&Le(na||(na=H([`
      --card-bg-color: `,`;
      --card-fg-color: `,`;
      --card-muted-fg-color: `,`;
      --card-border-color: `,`;
      &:not([data-selection-bottom='true']) {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
      }
    `])),a.bg,a.fg,a.muted,a.bg),t==="withinSelection"&&Le(ra||(ra=H([`
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
      box-shadow: 0px 3px 0px 0px var(--card-bg-color);
      &:not([data-selection-top='true']) {
        border-radius: 0;
      }

      `,` {
        &::before {
          background: var(--card-hairline-soft-color);
        }
      }
    `])),Qe),t==="disabled"&&Le(oa||(oa=H([`
      [data-ui='Avatar'] {
        opacity: 0.2;
      }
    `]))),Qe,Qe,(n||t==="selected")&&Le(ia||(ia=H([`
      `,`::before {
        background: transparent;
      }
    `])),Qe),Qe)}),n0=$(k)(aa||(aa=H([`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`]))),r0=$(N)(sa||(sa=H([`
  text-transform: capitalize;
`]))),o0={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function i0(e){const{isSelectionBottom:t,isSelectionTop:n,state:r,onSelect:o,timestamp:a,chunk:i,type:s}=e,l=Zg(s),c=Array.from(i.authors),u=je(a,{minimal:!0}),f=r==="selected",h=r==="withinSelection",[d,v]=m.useState(!1),g=m.useCallback(w=>{w.preventDefault(),w.stopPropagation(),o(i)},[o,i]);return p(t0,{"data-ui":"timelineItem",radius:2,"data-chunk-id":i.id,paddingY:0,paddingX:2,tone:d||f||h?"default":o0[s],pressed:h,state:r,selected:f,isHovered:d,disabled:r==="disabled","data-selection-bottom":t,"data-selection-top":n,onClick:g,children:p("div",{onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:A(W,{align:"stretch",children:[p(Qe,{align:"center",children:p(n0,{padding:2,children:p(N,{size:2,children:l&&m.createElement(l)})})}),A(Ce,{space:2,margin:2,children:[p(k,{children:p(r0,{size:1,weight:"medium",children:jr(s)||p("code",{children:s})})}),p(N,{size:0,muted:!0,children:u})]}),p(W,{flex:1,justify:"flex-end",align:"center",children:p(e0,{maxLength:3,userIds:c})})]})})})}const a0=$(k)(la||(la=H([`
  overflow: auto;
  -webkit-overflow-scrolling: touch;
`]))),s0=$(Ce)(ca||(ca=H([`
  max-width: 200px;
`]))),l0=$(Br)(ua||(ua=H([`
  overflow: auto;
  box-sizing: border-box;
  max-height: calc(100vh - 198px);
`]))),c0=20,kr=e=>{let{timeline:t,disabledBeforeSelection:n,topSelection:r,bottomSelection:o,onSelect:a,onLoadMore:i}=e;const s=m.useRef(null),l=m.useRef(null),[c,u]=m.useState(null);let f=n?"disabled":"enabled";const h=m.useCallback(()=>{const d=s.current;if(c&&d){const{offsetHeight:v,scrollTop:g}=d,w=v+g+c0,x=c.offsetTop<w;x&&requestAnimationFrame(()=>i(x))}},[i,c]);return m.useEffect(h,[h]),A(a0,{ref:s,onScroll:h,"data-ui":"timeline",children:[t.chunkCount===0&&A(s0,{padding:3,space:3,children:[p(N,{size:1,weight:"semibold",children:"No document history"}),p(N,{muted:!0,size:1,children:"When changing the content of the document, the document versions will appear in this menu."})]}),t.chunkCount>0&&p(l0,{ref:l,padding:1,space:0,children:t.mapChunks(d=>{const v=r===d,g=o===d;v&&(f="withinSelection"),g&&(f="selected");const w=p(i0,{chunk:d,isSelectionBottom:g,isSelectionTop:v,state:f,onSelect:a,type:d.type,timestamp:d.endTimestamp},d.id);return f==="selected"&&(f="enabled"),w})}),!t.reachedEarliestEntry&&p(W,{align:"center",justify:"center",padding:4,ref:u,children:p(ut,{muted:!0})})]})};kr.displayName="Timeline";const u0=$(Ur)(da||(da=H([`
  & > div {
    display: flex;
    flex-direction: column;

    & > [data-ui='Card'] {
      flex: 1;
      min-height: 0;
      display: flex;
      flex-direction: column;

      /* This is the scrollable container rendered by <Timeline /> */
      & > div {
        flex: 1;
        min-height: 0;
      }
    }
  }
`])));function Wl(e){let{chunk:t,mode:n,placement:r}=e;const{historyController:o,setTimelineRange:a,setTimelineMode:i,timeline:s,ready:l}=Z(),[c,u]=m.useState(!1),[f,h]=m.useState(null),[d,v]=m.useState(null),g=m.useCallback(()=>{i(n),u(!0)},[n,i]),w=m.useCallback(()=>{i("closed"),u(!1)},[i]),x=m.useCallback(()=>{w()},[w]);Gr(x,[d,f]);const S=m.useCallback(O=>{const[F,L]=o.findRangeForNewRev(O);i("closed"),u(!1),a(F,L)},[o,i,a]),P=m.useCallback(O=>{const[F,L]=o.findRangeForNewSince(O);i("closed"),u(!1),a(F,L)},[o,i,a]),b=m.useCallback(O=>{o.setLoadMore(O)},[o]),y=c&&p("div",{ref:v,children:n==="rev"?p(kr,{onSelect:S,onLoadMore:b,timeline:s,...Qg(o.realRevChunk)}):p(kr,{onSelect:P,onLoadMore:b,timeline:s,...Jg(o.sinceTime,o.realRevChunk)})}),C=je((t==null?void 0:t.endTimestamp)||"",{agoSuffix:!0}),T=t?"".concat(xu(jr(t.type))," ").concat(C):"Current version",E=t?"Since ".concat(jr(t.type)," ").concat(C):"Since unknown version";return p(u0,{constrainSize:!0,content:y,"data-ui":"versionMenu",open:c,placement:r,portal:!0,children:p(le,{disabled:!l,mode:"bleed",fontSize:1,padding:2,iconRight:Su,onClick:c?w:g,ref:h,selected:c,text:c?n==="rev"?"Select version":"Review changes since":n==="rev"?T:E})})}function d0(){return A(W,{align:"center",justify:"center",children:[p(ut,{muted:!0}),p(k,{marginTop:3,children:p(N,{align:"center",children:"Loading changes…"})})]})}function f0(e){const t=new Map;return Xu(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:o}=n.annotation,a=t.get(r);return(!a||a.timestamp<o)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}const p0=$(za)(fa||(fa=H([`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`])));function h0(){const{documentId:e,onHistoryClose:t,historyController:n,schemaType:r,value:o}=Z(),{collapsed:a}=Pu(),i=m.useRef(null),l=n.selectionState==="loading",c=n.sinceTime,u=n.currentObjectDiff(),f=!n.onOlderRevision(),h=Ee.useMemo(()=>({documentId:e,schemaType:r,FieldWrapper:Cu,rootDiff:u,isComparingCurrent:f,value:o}),[e,u,f,r,o]),d=Ee.useMemo(()=>u?f0(u):[],[u]);return a?null:A(W,{direction:"column",flex:1,style:{borderLeft:"1px dashed var(--card-border-color)",overflow:"hidden",minWidth:320},"data-testid":"review-changes-pane",children:[p(Cn,{actions:p(le,{icon:Et,mode:"bleed",onClick:t,padding:3,title:"Hide changes panel"}),subActions:d.length>0&&p(k,{paddingRight:1,children:p(wu,{annotations:d,description:"Changes by",placement:"bottom-end",children:p(qa,{maxLength:4,children:d.map(v=>{let{author:g}=v;return p(Xa,{user:g},g)})})})}),tabs:p(Wl,{mode:"since",chunk:c,placement:"bottom-start"}),title:"Changes"}),p(At,{children:p(Hr,{element:i.current,children:p(p0,{"data-ui":"Scroller",ref:i,children:p(k,{flex:1,padding:4,children:p(m0,{diff:u,documentContext:h,loading:l})})})})})]})}function m0(e){let{diff:t,documentContext:n,loading:r}=e;const{schemaType:o}=Z();return r?p(d0,{}):t?p(Tu.Provider,{value:n,children:p(_u,{diff:t,schemaType:o})}):p(Eu,{})}function v0(e,t,n){const r=Yc(),[o,a]=m.useState(n),i=m.useMemo(()=>r.forNamespace("desk-tool"),[r]),s=m.useMemo(()=>e?i.forNamespace(e).forKey(t):i.forKey(t),[i,e,t]);m.useEffect(()=>{const c=s.listen(n).subscribe({next:a});return()=>c==null?void 0:c.unsubscribe()},[n,t,e,s]);const l=m.useCallback(c=>{a(c),s.set(c)},[s]);return m.useMemo(()=>[o,l],[l,o])}const et={id:"parsed",title:"Parsed"},tt={id:"raw",title:"Raw JSON"},g0=[et,tt],bn=Df(1e3);function Hl(e,t){const n=bn.get(e);return n===void 0?(bn.set(e,Array.isArray(t)||Ke(t)),Hl(e,t)):n}function y0(e){const{path:t}=e,n=bn.get(t);n!==void 0&&bn.set(t,!n)}function Gl(e){const t=window.getSelection();if(t){const n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function Ma(e){Gl(e.currentTarget)}function b0(e){e.keyCode===65&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),Gl(e.currentTarget))}function x0(e){return Ke(e)&&Bo(e._id)&&Bo(e._type)}const S0=$.div(e=>{let{theme:t}=e;const{color:n,fonts:r,space:o}=t.sanity;return Le(pa||(pa=H([`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: `,`;
      font-size: `,`px;
      line-height: `,`px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: `,`;
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: `,`;
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0 - `,` + 3px);
      font-size: `,`px;
      line-height: `,`px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: `,`px;
      line-height: `,`px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: `,`;
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: `,`;
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: `,`;
    }

    & .json-inspector .json-inspector__value_string {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_number {
      color: `,`;
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `])),r.code.family,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,pt(o[4]),pt(o[3]),pt(o[4]),r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,pt(o[4]/2),n.syntax.property,n.syntax.constant,pt(o[3]),n.syntax.string,n.syntax.boolean,n.syntax.number)});function P0(e){const{onChange:t,query:n}=e,r=m.useCallback(o=>t(o.target.value),[t]);return p(pd,{icon:hd,onChange:r,placeholder:"Search",radius:2,value:n||""})}function C0(e){const{value:t}=e,{onInspectClose:n,paneKey:r}=Z(),o="".concat(r,"_inspect_"),[a,i]=v0("desk-tool","inspect-view-preferred-view-mode-".concat(r),"parsed"),s=g0.find(u=>u.id===a),l=m.useCallback(()=>{i(et.id)},[i]),c=m.useCallback(()=>{i(tt.id)},[i]);return p(Yr,{id:"".concat(o,"dialog"),header:x0(t)?A(q,{children:["Inspecting"," ",p("em",{children:p(Zu,{document:t})})]}):p("em",{children:"No value"}),onClose:n,width:3,children:A(W,{direction:"column",height:"fill",children:[p(Te,{padding:3,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:A(Ja,{space:1,children:[p(pr,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(et.id),label:et.title,onClick:l,selected:s===et}),p(pr,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(tt.id),label:tt.title,onClick:c,selected:s===tt})]})}),A(Ju,{"aria-labelledby":"".concat(o,"tab-").concat(a),flex:1,id:"".concat(o,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[s===et&&p(S0,{children:p(Rf,{data:t,isExpanded:Hl,onClick:y0,search:P0})}),s===tt&&p(hr,{language:"json",tabIndex:0,onKeyDown:b0,onDoubleClick:Ma,onFocus:Ma,children:JSON.stringify(t,null,2)})]})]})})}const w0=$(Te)(ha||(ha=H([`
  position: relative;
  z-index: 50;
`]))),Ra=$(N)(ma||(ma=H([`
  & > * {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`]))),Kl=m.memo(()=>{var e,t,n,r,o,a;const i=$c(),{params:s,groupIndex:l,routerPanesState:c,replaceCurrent:u,BackLink:f}=Ot(),h=(e=c[l])==null?void 0:e[0].id,d=c[l-1],v=d==null?void 0:d[0],g=v==null?void 0:v.id,w=Boolean((t=v==null?void 0:v.params)==null?void 0:t.rev),x=m.useMemo(()=>(s==null?void 0:s.parentRefPath)&&wt(s.parentRefPath)||null,[s==null?void 0:s.parentRefPath]),S=Ba(()=>{const y=x==null?void 0:x[0];if(!g||!y||!x)return Be({loading:!1});const C=dr(g),T=wt(y),E=T.findIndex(_=>typeof _=="object"&&"_key"in _);return Za(Be({loading:!0}),i.unstable_observePathsDocumentPair(C,E===-1?T:T.slice(0,E)).pipe($a(750),Ge(_=>{let{draft:M,published:O}=_;var F;return{loading:!1,result:{availability:{draft:M.availability,published:O.availability},refValue:(F=Iu(M.snapshot||O.snapshot,x))==null?void 0:F._ref}}})))},[g,x],{loading:!0}),P=m.useCallback(()=>{var y;S.loading||(y=S.result)!=null&&y.refValue&&u({id:S.result.refValue,params:s})},[S.loading,S.result,u,s]);return!g||!x||w||S.loading||!((n=S.result)!=null&&n.availability.draft.available)&&!((r=S.result)!=null&&r.availability.published.available)||((o=S.result)==null?void 0:o.refValue)===h?null:p(w0,{shadow:1,tone:"caution","data-testid":"reference-changed-banner",children:p(Vt,{paddingX:4,paddingY:2,sizing:"border",width:1,children:A(W,{align:"center",children:[p(N,{size:1,children:p(zr,{})}),(a=S.result)!=null&&a.refValue?A(q,{children:[p(k,{flex:1,marginLeft:3,children:p(Ra,{title:"This reference has changed since you opened it.",size:1,children:"This reference has changed since you opened it."})}),p(k,{marginLeft:3,children:p(le,{onClick:P,icon:Wa,fontSize:1,mode:"ghost",padding:2,space:2,text:"Reload reference"})})]}):A(q,{children:[p(k,{flex:1,marginLeft:3,children:p(Ra,{title:"This reference has been removed since you opened it.",size:1,children:"This reference has been removed since you opened it."})}),p(k,{marginLeft:3,children:p(le,{as:f,icon:Et,fontSize:1,mode:"ghost",padding:2,space:2,text:"Close reference"})})]})]})})})});Kl.displayName="ReferenceChangedBanner";const E0=$(Te)(va||(va=H([`
  position: relative;
  z-index: 50;
`])));function T0(e){let{granted:t,requiredPermission:n}=e;var r,o;const a=Qu(),i=((r=a==null?void 0:a.roles)==null?void 0:r.length)!==1,s=_0(((o=a==null?void 0:a.roles)==null?void 0:o.map(l=>p("code",{children:l.title},l.name)))||[],", ");return t?null:p(E0,{"data-testid":"permission-check-banner",shadow:1,tone:"transparent",children:p(Vt,{paddingX:4,paddingY:3,sizing:"border",width:1,children:A(W,{align:"flex-start",children:[p(N,{size:1,children:p(ed,{})}),p(k,{flex:1,marginLeft:3,children:A(N,{size:1,children:["Your role",i&&"s"," ",s," ",i?"do":"does"," not have permissions to"," ",n," this document."]})})]})})})}function _0(e,t){return e.reduce((n,r)=>n===null?[r]:n.concat([t,r]),null)}function I0(e){const t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}const M0=1e3*60*60*24*24;function R0(e){const t=Sn(),n=I0(e.enabled);m.useEffect(()=>{!n&&e.enabled&&t.push({...e,duration:M0}),n&&!e.enabled&&t.push({...e,duration:.01})},[e,t,n])}const D0=e=>e.preventDefault();function A0(e){var t;const{hidden:n,margins:r}=e,{collapsedFieldSets:o,collapsedPaths:a,displayed:i,editState:s,documentId:l,documentType:c,onChange:u,validation:f,ready:h,formState:d,onFocus:v,onBlur:g,onSetCollapsedPath:w,onPathOpen:x,onSetCollapsedFieldSet:S,onSetActiveFieldGroup:P}=Z(),b=ns(),y=td(l),C=m.useMemo(()=>nd(),[]),T=(t=s==null?void 0:s.transactionSyncLock)==null?void 0:t.enabled;R0({id:"sync-lock-".concat(l),status:"warning",enabled:T,title:"Syncing document…",description:"Please hold tight while the document is synced. This usually happens right after the document has been published, and it shouldn't take more than a few seconds"}),m.useEffect(()=>{const _=b.pair.documentEvents(l,c).pipe(rd(M=>{M.type==="mutation"&&C.publish(O0(M)),M.type==="rebase"&&C.publish(V0(M))})).subscribe();return()=>{_.unsubscribe()}},[l,b,c,C]);const E=Boolean(i==null?void 0:i._rev);return m.useEffect(()=>{E&&C.publish({type:"mutation",patches:[],snapshot:i})},[E]),p(Vt,{hidden:n,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:p(od,{margins:r,children:p(k,{as:"form",onSubmit:D0,children:h?d===null?p(k,{padding:2,children:p(N,{children:"This form is hidden"})}):p(id,{__internal_patchChannel:C,collapsedFieldSets:o,collapsedPaths:a,focusPath:d.focusPath,changed:d.changed,focused:d.focused,groups:d.groups,id:"root",members:d.members,onChange:u,onFieldGroupSelect:P,onPathBlur:g,onPathFocus:v,onPathOpen:x,onSetFieldSetCollapsed:S,onSetPathCollapsed:w,presence:y,readOnly:d.readOnly,schemaType:d.schemaType,validation:f,value:d.value}):p(xo,{ms:300,children:A(W,{align:"center",direction:"column",height:"fill",justify:"center",children:[p(ut,{muted:!0}),p(k,{marginTop:3,children:p(N,{align:"center",muted:!0,size:1,children:"Loading document"})})]})})})})})}function O0(e){const t=e.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:mr(e.origin,t)}}function V0(e){const t=e.remoteMutations.map(r=>r.patch).filter(Boolean),n=e.localMutations.map(r=>r.patch).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:mr("remote",t).concat(mr("local",n))}}function L0(){const{activeViewId:e,paneKey:t,views:n}=Z(),r="".concat(t,"tabpanel");return p(Ja,{space:1,children:n.map((o,a)=>{var i;return p(j0,{icon:o.icon,id:"".concat(t,"tab-").concat(o.id),isActive:e===o.id,label:p(q,{children:o.title}),tabPanelId:r,viewId:a===0?null:(i=o.id)!=null?i:null},o.id)})})}function j0(e){const{icon:t,id:n,isActive:r,label:o,tabPanelId:a,viewId:i}=e,{ready:s}=Z(),{setView:l}=Ot(),c=m.useCallback(()=>l(i),[l,i]);return p(pr,{"aria-controls":a,disabled:!s,fontSize:1,icon:t,id:n,selected:r,label:o,onClick:c})}const cr={error:{tone:"critical",icon:ad},warning:{tone:"caution",icon:zr},info:{tone:"primary",icon:sd}};function k0(e){const{boundaryElement:t,isOpen:n,setOpen:r}=e,{onFocus:o,onPathOpen:a,schemaType:i,validation:s}=Z(),l=m.useId(),c=s.length>0,u=s.some(Mu),f=s.some(Ru),h=s.some(Du),d=m.useMemo(()=>{if(u)return cr.error;if(f)return cr.warning;if(h)return cr.info},[u,h,f]),v=m.useCallback(()=>r(!1),[r]);return c?p(Qa,{id:l||"",button:p(le,{...d,title:"Show validation issues",mode:"bleed","data-testid":"validation-list-button"}),menu:p(Br,{open:n,children:p(Au,{documentType:i,validation:s,onClose:v,onFocus:a})}),popover:{portal:!0,boundaryElement:t,constrainSize:!0,preventOverflow:!0,width:0},placement:"bottom"}):null}function F0(){const{connectionState:e,schemaType:t,title:n,value:r}=Z(),o=Boolean(r)&&e==="connected",{error:a,value:i}=Ou({enabled:o,schemaType:t,value:r});return e!=="connected"?p(q,{}):r?o?a?A(q,{children:["Error: ",a.message]}):p(q,{children:(i==null?void 0:i.title)||p("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):p(q,{children:n}):A(q,{children:["New ",(t==null?void 0:t.title)||(t==null?void 0:t.name)]})}const N0=e=>Boolean(e.showAsAction),B0=qc(N0),Yl=m.memo(m.forwardRef((e,t)=>{let{rootElement:n}=e;const{onMenuAction:r,onPaneClose:o,onPaneSplit:a,historyController:i,validation:s,menuItems:l,menuItemGroups:c,schemaType:u,ready:f,views:h,unstable_languageFilter:d}=Z(),{revTime:v}=i,{features:g}=$e(),{index:w,BackLink:x,hasGroupSiblings:S}=Ot(),P=m.useMemo(()=>l.filter(B0),[l]),[b,y]=Ee.useState(!1),C=h.length>1,T=g.reviewChanges,E=g.splitViews&&a&&h.length>1,_=E&&S,M=!_&&!g.backButton;return p(Cn,{ref:t,loading:!f,title:p(F0,{}),tabs:C&&p(L0,{}),backButton:g.backButton&&w>0&&p(le,{as:x,"data-as":"a",icon:Xc,mode:"bleed"}),subActions:T&&p(Wl,{chunk:v,mode:"rev",placement:"bottom-end"}),actions:A(Ha,{space:1,children:[d.length>0&&p(q,{children:d.map((O,F)=>m.createElement(O,{key:"language-filter-".concat(F),schemaType:u}))}),s.length>0&&p(k0,{boundaryElement:n,isOpen:b,setOpen:y},"validation-menu"),p(Zc,{itemGroups:c,items:P,onAction:r},"context-menu"),E&&p(le,{icon:Jc,mode:"bleed",onClick:a,title:"Split pane right"},"split-pane-button"),_&&p(le,{icon:Et,mode:"bleed",onClick:o,title:"Close split pane"},"close-view-button"),M&&p(le,{icon:Et,mode:"bleed",title:"Close pane group",as:x},"close-view-button")]})})}));Yl.displayName="DocumentPanelHeader";const U0=$(za)(e=>{let{$disabled:t}=e;return t?{height:"100%"}:Le(ga||(ga=H([`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `])))}),z0=function(t){const{footerHeight:n,isInspectOpen:r,rootElement:o,setDocumentPanelPortalElement:a}=t,{activeViewId:i,displayed:s,documentId:l,editState:c,value:u,views:f,ready:h,schemaType:d,permissions:v,isPermissionsLoading:g}=Z(),{collapsed:w}=Ka(),x=Vu(),{features:S}=$e(),[P,b]=m.useState(null),y=wn(P),C=m.useRef(null),[T,E]=m.useState(null),_=u._createdAt?"update":"create",M=m.useMemo(()=>f.find(Q=>Q.id===i)||f[0]||{type:"form"},[i,f]),O=S.splitPanes&&C.current||x.element,F=m.useMemo(()=>w?[(y==null?void 0:y.height)||0,0,n?n+2:2,0]:[0,0,2,0],[w,n,y]),L=M.type!=="form",j=m.useMemo(()=>M.type==="component"&&M.component&&m.createElement(M.component,{document:{draft:(c==null?void 0:c.draft)||null,displayed:s||u,historical:s,published:(c==null?void 0:c.published)||null},documentId:l,options:M.options,schemaType:d}),[M,s,l,c==null?void 0:c.draft,c==null?void 0:c.published,d,u]);m.useEffect(()=>{T!=null&&T.scrollTo&&T.scrollTo(0,0)},[l,T]),m.useEffect(()=>{O&&a(O)},[O,a]);const z=m.useMemo(()=>r?p(C0,{value:s||u}):null,[r,s,u]);return A(W,{direction:"column",flex:2,overflow:w?void 0:"hidden",children:[p(Yl,{rootElement:o,ref:b}),p(At,{children:p(Wr,{element:O,__unstable_elements:{documentScrollElement:T},children:A(Hr,{element:T,children:[M.type==="form"&&!g&&h&&A(q,{children:[p(T0,{granted:Boolean(v==null?void 0:v.granted),requiredPermission:_}),p(Kl,{})]}),A(U0,{$disabled:w||!1,"data-testid":"document-panel-scroller",ref:E,children:[p(A0,{hidden:L,margins:F},l+(h?"_ready":"_pending")),j]}),z,p("div",{"data-testid":"document-panel-portal",ref:C})]})})})]})},$l=["left","bottom"],W0={small:0,medium:1,large:2,full:"auto"};function H0(e){const{dialog:t,referenceElement:n}=e;return p(Ur,{content:p(G0,{dialog:t}),fallbackPlacements:$l,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function G0(e){const{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:r,confirmButtonIcon:o,confirmButtonText:a,message:i,onCancel:s,onConfirm:l,tone:c}=t,{isTopLayer:u}=is(),[f,h]=m.useState(null),d=m.useCallback(()=>{u&&s()},[u,s]),v=m.useCallback(g=>{g.key==="Escape"&&u&&s()},[u,s]);return Gr(d,[f]),as(v),A(W,{direction:"column",ref:h,style:{minWidth:320-16,maxWidth:400},children:[p(k,{flex:1,overflow:"auto",padding:4,children:p(N,{children:i})}),p(k,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:A(md,{columns:2,gap:2,children:[p(le,{icon:n,onClick:s,mode:"ghost",text:r||"Cancel"}),p(le,{icon:o,onClick:l,text:a||"Confirm",tone:c})]})})]})}function K0(e){const{dialog:t}=e,n=m.useId(),r=t.footer&&p(k,{paddingX:4,paddingY:3,children:t.footer});return p(Kr,{zOffset:"fullscreen",children:p(Yr,{__unstable_hideCloseButton:t.showCloseButton===!1,footer:r,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:t.width===void 0?1:W0[t.width],portal:"documentPanelPortalElement",children:p(k,{padding:4,children:t.content})})})}function Y0(e){const{dialog:t,referenceElement:n}=e;return p(Ur,{content:p($0,{dialog:t}),fallbackPlacements:$l,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function $0(e){const{dialog:t}=e,{content:n,onClose:r}=t,{isTopLayer:o}=is(),[a,i]=m.useState(null),s=m.useCallback(()=>{o&&r()},[o,r]),l=m.useCallback(c=>{c.key==="Escape"&&o&&r()},[o,r]);return Gr(s,[a]),as(l),p("div",{ref:i,children:n})}function Po(e){const{dialog:t,referenceElement:n=null}=e,r=m.useId();if(t.type==="confirm")return p(H0,{dialog:t,referenceElement:n});if(t.type==="popover")return p(Y0,{dialog:t,referenceElement:n});if(t.type==="dialog"||!t.type)return p(K0,{dialog:t});const o=t;return console.warn("Unsupported modal type ".concat(o.type)),p(Yr,{id:r,onClose:o.onClose,onClickOutside:o.onClose,width:2,children:p(k,{padding:4,children:o.content||A(q,{children:["Unexpected modal type (",p("code",{children:o.type}),")"]})})})}function q0(e){const{actionStates:t,disabled:n}=e,r=m.useId(),o=m.useRef(null),[a,i]=m.useState(-1),[s,l]=m.useState(null),c=m.useCallback(h=>{i(h)},[]),u=m.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),f=t[a];return A(q,{children:[p(Qa,{id:"".concat(r,"-action-menu"),button:p(le,{"data-testid":"action-menu-button","aria-label":"Open document actions",disabled:n,icon:ld,mode:"ghost",ref:o}),menu:p(Br,{padding:1,children:t.map((h,d)=>p(X0,{actionState:h,disabled:n,index:d,onAction:c},d))}),popover:u,ref:l}),f&&f.dialog&&p(Kr,{zOffset:"paneFooter",children:p(Po,{dialog:f.dialog,referenceElement:s})})]})}function X0(e){const{actionState:t,disabled:n,index:r,onAction:o}=e,{onHandle:a}=t,i=m.useCallback(()=>{o(r),a&&a()},[r,o,a]),s=t.title&&p(k,{padding:2,children:p(N,{size:1,children:t.title})});return p(Ua,{"data-testid":"action-".concat(t.label.replace(" ","")),disabled:n||Boolean(t.disabled),onClick:i,padding:0,tone:t.tone,children:p(Lt,{content:s,disabled:!s,fallbackPlacements:["left","bottom"],placement:"top",portal:!0,children:A(W,{align:"center",paddingX:3,children:[A(W,{flex:1,paddingY:3,children:[t.icon&&p(k,{marginRight:3,children:A(N,{children:[m.isValidElement(t.icon)&&t.icon,cd.isValidElementType(t.icon)&&m.createElement(t.icon)]})}),p(N,{children:t.label})]}),t.shortcut&&p(k,{marginLeft:3,children:p(es,{keys:String(t.shortcut).split("+").map(l=>l.slice(0,1).toUpperCase()+l.slice(1))})})]})})})}function ql(e){const{disabled:t,showMenu:n,states:r}=e,[o,...a]=r,[i,s]=m.useState(null),l=m.useMemo(()=>!o||!o.title&&!o.shortcut?null:A(W,{padding:2,style:{maxWidth:300},align:"center",children:[p(N,{size:1,children:o.title}),o.shortcut&&p(k,{marginLeft:o.title?2:0,children:p(es,{keys:String(o.shortcut).split("+").map(c=>c.slice(0,1).toUpperCase()+c.slice(1).toLowerCase())})})]}),[o]);return A(W,{children:[o&&p(Lu,{zOffset:200,children:p(Lt,{disabled:!l,content:l,portal:!0,placement:"top",children:p(Ce,{flex:1,children:p(le,{"data-testid":"action-".concat(o.label),disabled:t||Boolean(o.disabled),icon:o.icon,onClick:o.onHandle,ref:s,text:o.label,tone:o.tone||"primary"})})})}),n&&a.length>0&&p(k,{marginLeft:1,children:p(q0,{actionStates:a,disabled:t})}),o&&o.dialog&&p(Po,{dialog:o.dialog,referenceElement:i})]})}const Z0=m.memo(function(){const{actions:t,connectionState:n,editState:r}=Z();return!t||!r?null:p(So,{actions:t,actionProps:r,children:o=>{let{states:a}=o;return p(ql,{disabled:n!=="connected",showMenu:t.length>1,states:a})}})}),J0=m.memo(function(){var t;const{connectionState:n,editState:r,historyController:o}=Z(),a=((t=o.revTime)==null?void 0:t.id)||"",i=((r==null?void 0:r.draft)||(r==null?void 0:r.published)||{})._rev===a,s=m.useMemo(()=>({...r||{},revision:a}),[r,a]),l=m.useMemo(()=>[Qc],[]);return p(So,{actions:l,actionProps:s,children:c=>{let{states:u}=c;return p(ql,{disabled:n!=="connected"||Boolean(i),showMenu:!1,states:u})}})}),Q0={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function ey(e){let{states:t}=e;return p(Ha,{space:1,children:t.map((n,r)=>p(Lt,{content:n.title&&p(k,{padding:2,children:p(N,{size:1,children:n.title})}),disabled:!n.title,placement:"top",portal:!0,children:p(ud,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:n.color?Q0[n.color]:void 0,style:{whiteSpace:"nowrap"},children:n.label})},String(r)))})}function ty(){const{badges:e,editState:t}=Z();return!t||!e?null:p(sg,{badges:e,badgeProps:t,children:n=>{let{states:r}=n;return p(ey,{states:r})}})}const ny=$(W)(ya||(ya=H([`
  cursor: default;
`])));function ry(e){const{collapsed:t,disabled:n,lastPublished:r,lastUpdated:o,liveEdit:a}=e,i=je(r||"",{minimal:!0,agoSuffix:!0}),s=je(r||"",{minimal:!0}),l=je(o||"",{minimal:!0,agoSuffix:!0}),c=je(o||"",{minimal:!0});return p(ny,{align:"center","data-ui":"SessionLayout",sizing:"border",children:p(Lt,{placement:"top",portal:!0,content:p(Ce,{padding:3,space:3,children:p(N,{size:1,muted:!0,children:a?A(q,{children:["Last updated ",o?l:i]}):A(q,{children:["Last published ",i]})})}),children:p(le,{mode:"bleed",tone:a?"critical":"positive",tabIndex:-1,disabled:n,children:A(W,{align:"center",children:[p(k,{marginRight:t?0:3,children:p(N,{size:2,children:a?p(ju,{}):p(ts,{})})}),!t&&p(N,{size:1,weight:"medium",children:a?p(q,{children:o?c:s}):s})]})})})})}const oy=$(zt.path)(ba||(ba=H([`
  transform-origin: center;
`]))),iy=e=>p(zt.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...e}),ay=e=>p(oy,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...e}),sy=e=>p(zt.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...e}),ly=e=>p(zt.path,{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",...e}),cy=eu(xa||(xa=H([`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`]))),uy=$.g(Sa||(Sa=H([`
  transform-origin: center;

  &[data-rotate] {
    animation: `,` 1s ease-in-out infinite;
  }
`])),cy),dy={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},fy={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},py={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},hy={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}},my={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:0,transition:{duration:0}},changes:{pathLength:1,transition:{duration:.4,delay:.5}}};function vy(e){const{status:t}=e;return t?p("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"",children:A(zt.g,{variants:dy,initial:t,animate:t,children:[A(uy,{"data-rotate":t==="changes"?void 0:"",children:[p(ay,{variants:py,initial:t,animate:t}),p(iy,{variants:fy,initial:t,animate:t})]}),p(sy,{variants:hy,initial:t,animate:t}),p(ly,{variants:my,initial:t,animate:t})]})}):null}const gy=Ee.forwardRef(function(t,n){const{collapsed:r,status:o,lastUpdated:a,...i}=t,s=je(a||"",{minimal:!0}),l=je(a||"",{minimal:!0,agoSuffix:!0}),c=m.useMemo(()=>o==="syncing"?{text:"Saving...",tone:void 0}:o==="changes"?{text:s,tone:"caution"}:o==="saved"?{text:"Saved!",tone:"positive"}:{},[o,s]);return o?p(Lt,{placement:"top",portal:!0,disabled:o!=="changes",content:A(Ce,{padding:3,space:3,children:[p(N,{size:1,weight:"semibold",children:"Review changes"}),A(N,{size:1,muted:!0,children:["Changes saved ",l]})]}),children:p(le,{mode:"bleed",justify:"flex-start",tone:c==null?void 0:c.tone,...i,"data-testid":"review-changes-button",ref:n,children:A(W,{align:"center",children:[p(k,{marginRight:r?0:3,children:p(N,{children:p(vy,{status:o})})}),!r&&p(N,{size:1,weight:"medium",children:c==null?void 0:c.text})]})})}):null}),yy=Ee.memo(gy),by=1e3,xy=3e3,Sy=m.memo(function(){var t;const{changesOpen:n,documentId:r,documentType:o,editState:a,onHistoryClose:i,onHistoryOpen:s,historyController:l,value:c}=Z(),u=tu(r,o),f=c==null?void 0:c._updatedAt,h=(t=a==null?void 0:a.published)==null?void 0:t._updatedAt,d=l.onOlderRevision(),v=Boolean(a==null?void 0:a.liveEdit),g=Boolean(a==null?void 0:a.published),w=Boolean(a==null?void 0:a.draft),[x,S]=m.useState(null),P=wn(x),b=!P||(P==null?void 0:P.width)<300,[y,C]=m.useState(null);m.useEffect(()=>{if(y==="syncing"&&!u.isSyncing){const _=setTimeout(()=>C("saved"),by);return()=>clearTimeout(_)}if(y==="saved"){const _=setTimeout(()=>C(null),xy);return()=>clearTimeout(_)}},[y,f,u.isSyncing]),m.useLayoutEffect(()=>{C(null)},[r]),m.useLayoutEffect(()=>{u.isSyncing&&C("syncing")},[u.isSyncing,f]);const T=m.useMemo(()=>p(yy,{lastUpdated:f,status:y||(w?"changes":void 0),onClick:n?i:s,disabled:d,selected:n,collapsed:b}),[w,n,i,s,f,d,y,b]),E=m.useMemo(()=>(v||g)&&p(k,{marginRight:1,children:p(ry,{disabled:d,lastPublished:h,lastUpdated:f,liveEdit:v,collapsed:b})}),[b,h,f,v,g,d]);return A(W,{align:"center","data-ui":"DocumentSparkline",ref:S,children:[E,A(W,{align:"center",flex:1,children:[T,!b&&p(k,{marginLeft:3,children:p(ty,{})})]})]})}),Py=$(k)(Pa||(Pa=H([`
  min-width: 10em;
  max-width: 16em;
`])));function Cy(e){const{actionsBoxRef:t}=e,{badges:n,historyController:r}=Z(),o=r.onOlderRevision();return m.useMemo(()=>p(k,{paddingLeft:2,paddingRight:[2,3],paddingY:2,children:A(W,{align:"center",children:[p(k,{flex:[1,2],children:n&&p(Sy,{})}),p(Py,{flex:1,marginLeft:[1,3],ref:t,children:o?p(J0,{}):p(Z0,{})})]})}),[t,n,o])}function wy(e){const{actionsBoxElement:t,activeIndex:n,children:r,id:o,onActionStart:a,onKeyDown:i,rootRef:s,states:l,...c}=e,u=l[n],f=m.useCallback(h=>{const d=l.filter(g=>g.shortcut&&Nr(g.shortcut,h)),v=d[0];if(d.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(v.shortcut,'"')),v&&!v.disabled&&v.onHandle){h.preventDefault(),v.onHandle(),a(l.indexOf(v));return}i&&i(h)},[a,i,l]);return A(xn,{id:o,onKeyDown:f,tabIndex:-1,...c,ref:s,children:[r,u&&u.dialog&&p(Kr,{zOffset:"paneFooter",children:p(Po,{dialog:u.dialog,referenceElement:t})})]})}const Xl=Ee.memo(e=>{const{actionsBoxElement:t,children:n,...r}=e,{actions:o,editState:a}=Z(),[i,s]=m.useState(-1),l=m.useCallback(u=>{s(u)},[]),c=m.useMemo(()=>a&&{...a,onComplete:()=>{},revision:void 0},[a]);return!c||!o?null:p(So,{actionProps:c,actions:o,children:u=>{let{states:f}=u;return p(wy,{...r,activeIndex:i,actionsBoxElement:t,onActionStart:l,states:f,children:n})}})});Xl.displayName="DocumentActionShortcuts";const Da=320,Aa=600,Oa=320,Va=["fixed","absolute"],Ey=$(nu)(Ca||(Ca=H([`
  flex: 1;
  display: flex;
  min-height: 0;
  min-width: 0;
`]))),ky=m.memo(function(t){const{name:n}=Pn();return p(Ga,{name:t.pane.source||n,children:p(Ty,{...t})})});function Ty(e){var t;const{pane:n,paneKey:r}=e,{resolveNewDocumentOptions:o}=Pn().document,a=Ot(),i=_y(n.options,a.params),{documentType:s,isLoaded:l}=ru(i.id,i.type),c=m.useMemo(()=>o({type:"global"}),[o]),[u,f]=ou({templateItems:c}),h=l&&!f,d=m.useMemo(()=>h&&s&&i.type!==s?Iy(e,i,s):e,[e,s,h,i]),{ReferenceChildLink:v,handleEditReference:g,groupIndex:w,routerPanesState:x}=a,S=((t=x[w+1])==null?void 0:t[0].params)||{},P=x.length,{parentRefPath:b}=S,y=m.useMemo(()=>b?{path:wt(b),state:w>=P-1?"none":w>=P-2?"selected":"pressed"}:{path:[],state:"none"},[b,w,P]);return i.type==="*"&&!h?p(kn,{flex:2.5,minWidth:320,paneKey:r,title:"Loading document…"}):s?p(zl,{...d,children:p(iu,{EditReferenceLinkComponent:v,onEditReference:g,initialValueTemplateItems:u,activePath:y,children:p(My,{})})},s):p(Ul,{flex:2.5,minWidth:320,paneKey:r,title:p(q,{children:"The document was not found"}),children:p(Ce,{space:4,children:A(N,{as:"p",children:["The document type is not defined, and a document with the ",p("code",{children:i.id})," ","identifier could not be found."]})})})}function _y(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Fa();return m.useMemo(()=>{if(e.type&&e.type!=="*")return e;const r=e.template||t.template,o=r?n.find(i=>i.id===r):void 0,a=o==null?void 0:o.schemaType;return a?{...e,type:a}:e},[e,t.template,n])}function Iy(e,t,n){return{...e,pane:{...e.pane,options:{...t,type:n}}}}function My(){const{changesOpen:e,documentType:t,onFocus:n,onPathOpen:r,onHistoryOpen:o,onKeyUp:a,inspectOpen:i,paneKey:s,schemaType:l,value:c}=Z(),{features:u}=$e(),{collapsed:f}=Ka(),h=au(),[d,v]=m.useState(null),[g,w]=m.useState(null),[x,S]=m.useState(null),[P,b]=m.useState(null),y=wn(g),C=y==null?void 0:y.height,T=m.useMemo(()=>p(z0,{footerHeight:C||null,isInspectOpen:i,rootElement:d,setDocumentPanelPortalElement:b}),[C,d,i]),E=m.useMemo(()=>p(Wr,{__unstable_elements:{documentPanelPortalElement:P},children:p(ko,{position:Va,zOffset:h.portal,children:p(su,{ref:w,children:p(Cy,{actionsBoxRef:S})})})}),[P,h.portal]),_=m.useMemo(()=>!u.reviewChanges||!e?null:p(Hr,{element:d,children:p(h0,{})}),[e,u.reviewChanges,d]),M=m.useCallback(j=>{r(j),n(j)},[r,n]),O=m.useMemo(()=>l?A(q,{children:[p(ko,{position:Va,zOffset:h.portal,children:p(W,{direction:"column",flex:1,height:f?void 0:"fill",children:A(Ey,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:o,onSetFocus:M,children:[T,_]})})}),E,p(Bg,{})]}):p(Ul,{flex:2.5,minWidth:320,paneKey:s,title:A(q,{children:["Unknown document type: ",p("code",{children:t})]}),tone:"caution",children:A(Ce,{space:4,children:[t&&A(N,{as:"p",children:["This document has the schema type ",p("code",{children:t}),", which is not defined as a type in the local content studio schema."]}),!t&&p(N,{as:"p",children:"This document does not exist, and no schema type was specified for it."}),Na]})}),[l,h.portal,f,e,o,M,T,_,E,s,t,c]),F=e?Aa+Oa:Aa,L=e?Da+Oa:Da;return p(Xl,{actionsBoxElement:x,currentMinWidth:F,"data-testid":"document-pane",flex:2.5,id:s,minWidth:L,onKeyUp:a,rootRef:v,children:O})}function Ry(){return p(Te,{height:"fill",children:p(W,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:p(Vt,{width:0,children:p(Te,{padding:4,radius:2,shadow:1,tone:"caution",children:A(W,{children:[p(k,{children:p(N,{size:1,children:p(zr,{})})}),A(Ce,{flex:1,marginLeft:3,space:3,children:[p(N,{as:"h1",size:1,weight:"bold",children:"No document types"}),p(N,{as:"p",muted:!0,size:1,children:"Please define at least one document type in your schema."}),p(N,{as:"p",muted:!0,size:1,children:p("a",{href:"https://beta.sanity.io/docs/platform/studio/config",target:"_blank",rel:"noreferrer",children:"Learn how to add a document type →"})})]})]})})})})})}const Dy=$(hg)(wa||(wa=H([`
  min-height: 100%;
  min-width: 320px;
`]))),Ay=Nr("mod+s"),Oy=m.memo(function(t){let{onPaneChange:n}=t;var r;const{navigate:o}=jt(),{push:a}=Sn(),i=ka(),s=lu(),{layoutCollapsed:l,setLayoutCollapsed:c}=$e(),{paneDataItems:u,resolvedPanes:f,routerPanes:h}=wg(),[d,v]=m.useState(null),g=m.useCallback(()=>c(!0),[c]),w=m.useCallback(()=>c(!1),[c]);return m.useEffect(()=>{f.length&&n(f)},[n,f]),m.useEffect(()=>{if(s>1||!l||!h.some(b=>b.length>1))return;const P=h.map(b=>[b[0]]);o({panes:P},{replace:!0})},[s,o,l,h]),m.useEffect(()=>{const S=P=>{Ay(P)&&(P.preventDefault(),a({closable:!0,id:"auto-save-message",status:"info",title:"Your work is automatically saved!",duration:4e3}))};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[a]),((r=i._original)==null?void 0:r.types.some(cu))?A(Wr,{element:d||null,children:[p(Dy,{flex:1,height:l?void 0:"fill",minWidth:512,onCollapse:g,onExpand:w,children:u.map(S=>{let{active:P,childItemId:b,groupIndex:y,itemId:C,key:T,pane:E,index:_,params:M,path:O,payload:F,siblingIndex:L,selected:j}=S;return p(m.Fragment,{children:E===fr?p(kn,{paneKey:T,path:O,selected:j}):p(jg,{active:P,groupIndex:y,index:_,pane:E,childItemId:b,itemId:C,paneKey:T,params:M,payload:F,selected:j,siblingIndex:L})},"".concat(E===fr?"loading":E.type,"-").concat(_))})}),p("div",{"data-portal":"",ref:v})]}):p(Ry,{})}),Vy={};function Ly(e){let{tool:{options:t}}=e;const{unstable_sources:n}=ku(),[r]=n,{source:o,defaultDocumentNode:a,structure:i}=t||{},{state:s}=jt(),l=m.useMemo(()=>{const f=typeof s.intent=="string"?s.intent:void 0,h=Ke(s.params)?s.params:Vy,d=s.payload;return f?{intent:f,params:h,payload:d}:void 0},[s]);m.useEffect(()=>(Yn([]),()=>Yn([])),[]);const[{error:c},u]=m.useState({error:null});return c?p(Rg,{error:c}):p(Fu,{onCatch:u,children:p(Ga,{name:o||r.name,children:p(Nu,{defaultDocumentNode:a,structure:i,children:l?p(_g,{...l}):p(Oy,{onPaneChange:Yn})})})})}var Fy=Object.freeze({__proto__:null,default:Ly});export{xo as Delay,ky as DocumentPane,zl as DocumentPaneProvider,Fy as index,$e as useDeskTool,v0 as useDeskToolSetting};
